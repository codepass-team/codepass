(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,n){e.exports=n.p+"static/media/logo2.05056f16.png"},290:function(e,t,n){e.exports=n.p+"static/media/back1.90daefdd.jpg"},300:function(e,t,n){e.exports=n(684)},434:function(e,t){},440:function(e,t,n){},544:function(e,t,n){e.exports=n.p+"static/media/error.91eee5a5.png"},545:function(e,t,n){},684:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"User",function(){return Ct}),n.d(a,"Detail",function(){return Ie}),n.d(a,"Home",function(){return ze}),n.d(a,"List",function(){return Ye}),n.d(a,"My",function(){return st}),n.d(a,"Person",function(){return vt}),n.d(a,"Search",function(){return Ot}),n.d(a,"Help",function(){return Dt}),n.d(a,"Collect",function(){return Tt});var r={};n.r(r),n.d(r,"Home",function(){return Pt}),n.d(r,"Answer",function(){return Ut}),n.d(r,"Docker",function(){return Ft}),n.d(r,"Question",function(){return _t}),n.d(r,"User",function(){return Gt});var i={};n.r(i),n.d(i,"Playground",function(){return Kt});var o=n(0),c=n.n(o),s=n(5),l=n.n(s);n(305),Boolean("0.0.0.0"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(7),f=n(8),p=n(9),d=n(10),m=n(4),h=n(34),y=n(35),g=n(28),E=n(707),b=function(e){return{type:"LOGINASUSER",user:e}},v=function(e){return{type:"LOGINASADMIN",admin:e}},j=function(){return{type:"LOGOUT"}},k=function(){return{type:"SHOWSIGNIN"}},O=function(){return{type:"SHOWSIGNUP"}},w=function(){return{type:"CANCELMODAL"}},x=function(e){return{type:"SETONCANCEL",onCancel:e}},C=function(e){return{type:"SETKEYWORD",keyword:e}},S=n(74),R=n(21),D=n(701);function N(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var A=n(98),I=function(e){Object(p.a)(n,e);var t=N(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).host="http://39.108.128.87",a.port=8e3,a.ip=a.host+":"+a.port,a.post=function(e,t,n,r,i){var o=localStorage.getItem("token");return fetch(a.ip+e,{method:"POST",mode:"cors",body:t,credentials:"include",headers:Object(R.a)({},o?{Authorization:"Bearer ".concat(o)}:{})}).then(function(e){return e.json()}).catch(function(e){console.log(e)}).then(function(e){a.handleResult(e,n,r,i)}).catch(function(e){console.error(e)})},a.get=function(e,t){a.getWithErrorAction(e,t,function(e){console.log(e.message),a.pushNotification("warning",e.message)},function(){console.log("error")})},a.delete=function(e,t){var n=localStorage.getItem("token"),r=function(e){console.log(e.message),a.pushNotification("warning",e.message)},i=function(){console.log("error")};return fetch(a.ip+e,{method:"DELETE",mode:"cors",credentials:"include",headers:Object(R.a)({},n?{Authorization:"Bearer ".concat(n)}:{})}).then(function(e){return e.json()}).catch(function(e){console.log(e)}).then(function(e){a.handleResult(e,t,r,i)})},a.getWithErrorAction=function(e,t,n,r){var i=localStorage.getItem("token");return fetch(a.ip+e,{method:"GET",mode:"cors",credentials:"include",headers:Object(R.a)({},i?{Authorization:"Bearer ".concat(i)}:{})}).then(function(e){return e.json()}).catch(function(e){console.log(e)}).then(function(e){a.handleResult(e,t,n,r)})},a.handleResult=function(e,t,n,r){if(!e)return r&&r(),void a.pushNotification("warning","\u7f51\u7edc\u9519\u8bef");null!==e.status?(401===e.status&&(a.pushNotification("warning","\u8bf7\u60a8\u5148\u767b\u5f55"),localStorage.clear()),t&&t(e)):n&&n(e)},a.fromNow=function(e){return A(e).fromNow()},a.handleChange=function(e){return function(t){a.setState(Object(S.a)({},e,t.target.value))}},a.handleDate=function(e,t){if(e){var n=(e+="").substring(5,7)+"\u6708"+e.substring(8,10)+"\u65e5";return 1===t?n+="\uff08\u4eca\u5929\uff09":2===t&&(n+="\uff08\u660e\u5929\uff09"),n}},a.handleTime=function(e){if(e)return(e+="").substring(11,16)},a.pushNotification=function(e,t){D.a.config({placement:"topRight",top:80,duration:4}),"warning"===e?D.a.warning({message:t,description:"\u8bf7\u6c42\u5931\u8d25"}):"success"===e?D.a.success({message:t,description:"\u8bf7\u6c42\u6210\u529f"}):D.a.open({message:t,description:"\u53d1\u751f\u4e86\u672a\u77e5\u9519\u8bef"})},a.scrollToView=function(e){if(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}},a.state={token:null},a}return Object(f.a)(n,[{key:"timeout",value:function(e){return new Promise(function(t,n){setTimeout(t,e,"done")})}},{key:"hasErrors",value:function(e){return Object.keys(e).some(function(t){return e[t]})}},{key:"sleep",value:function(e){for(var t=(new Date).getTime();(new Date).getTime()-t<e;);}},{key:"loadStorage",value:function(e){return localStorage.getItem(e)}}]),n}(o.Component),T=n(107),q=n(56),z=n(718),P=n(295),L=n(53),B=n(721),V=n(704),U=n(12),W=n(100),F=n.n(W);function M(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var _=n(350),H=function(e){Object(p.a)(n,e);var t=M(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return null===this.props.desp?null:c.a.createElement(_,{source:this.props.desp,escapeHtml:!1,renderers:{paragraph:function(e){return c.a.createElement("p",Object.assign({},e,{style:{marginBottom:5}}))}}})}}]),n}(I),G=n(719),J=n(723),K=n(279),Q=(n(440),n(702));function X(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Y=function(e){Object(p.a)(n,e);var t=X(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).getName=function(){return a.props.name.length<2?a.props.name.toUpperCase():a.props.name.length%2==0?a.props.name.substring(0,2).toUpperCase():a.props.name.substring(0,3).toUpperCase()},a.hashColor=function(){for(var e=a.props.id,t=e%10,n=e%100/10,r=0;r<e%256;r++)t=t*e%256,n=n*e%256;a.state.color="rgb("+t+","+n+","+t*n%256+")"},a.state={name:"",color:"",size:e.size?e.size:55},a}return Object(f.a)(n,[{key:"componentWillMount",value:function(){this.state.name=this.getName(),this.hashColor()}},{key:"render",value:function(){return c.a.createElement(Q.a,{shape:this.props.shape||"square",style:{marginRight:8,fontSize:30,marginTop:5,backgroundColor:this.state.color},size:this.state.size},this.state.name)}}]),n}(I);function $(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Z=z.a.Paragraph,ee=G.a.Panel,te=function(e){Object(p.a)(n,e);var t=$(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleCopy=function(e){F()(e+"")?a.pushNotification("success","Docker-"+e+" has been copied. Please open it in VS Code"):a.pushNotification("warning","Copy Failed")},a.renderDiff=function(e){var t=K.Diff2Html.getPrettyHtml(e,{inputFormat:"diff",showFiles:!0,matching:"lines",outputFormat:"side-by-side"});return t=t.replace(/href/g,"file"),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})},a.state={desp:1},a}return Object(f.a)(n,[{key:"renderUser",value:function(e,t){return c.a.createElement(T.a,{type:"flex",style:{width:"100%"}},c.a.createElement(T.a,{type:"flex",align:"middle",justify:"start"},c.a.createElement(Y,{id:this.props.data.answerer.id,name:this.props.data.answerer.username})),c.a.createElement(q.a,{span:18,style:{padding:2}},c.a.createElement(T.a,{type:"flex",align:"middle",justify:"start",style:{width:"80%",fontSize:24}},e),c.a.createElement(T.a,{type:"flex",align:"middle",justify:"start",style:{width:"80%",fontSize:14}},this.handleDate(this.props.data.answerTime)+" "+this.handleTime(this.props.data.answerTime))))}},{key:"render",value:function(){var e=this.props.data,t=e.content,n=e.diff,a=e.time,r=e.answerer;return c.a.createElement(J.a,{style:{marginBottom:15}},c.a.createElement(T.a,{style:{width:"100%"}},this.renderUser(r.username,a)),c.a.createElement(Z,{style:{fontSize:22}},c.a.createElement(H,{desp:t})),c.a.createElement(G.a,{defaultActiveKey:["1"]},c.a.createElement(ee,{header:"\u5c55\u793a\u4ee3\u7801",key:"1"},this.renderDiff(n))))}}]),n}(I),ne=Object(y.f)(te),ae=n(156),re=n(724),ie=n(703),oe=n(716),ce=n(98),se=n.n(ce);function le(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var ue=P.a.TextArea,fe=function(e){var t=e.comments;return c.a.createElement(re.a,{dataSource:t,header:t.length+" \u8bc4\u8bba",itemLayout:"horizontal",renderItem:function(e){return c.a.createElement("li",null,c.a.createElement(ie.a,{avatar:c.a.createElement(Y,{id:e.commenter.id,name:e.commenter.username,size:30}),author:e.commenter.username,content:e.content,datetime:se()(e.commentTime).fromNow()}))}})},pe=function(e){var t=e.onChange,n=e.onSubmit,a=e.submitting,r=e.value;return c.a.createElement("div",null,c.a.createElement(oe.a.Item,null,c.a.createElement(ue,{rows:4,onChange:t,value:r})),c.a.createElement(oe.a.Item,null,c.a.createElement(L.a,{htmlType:"submit",loading:a,onClick:n,type:"primary"},"\u6dfb\u52a0\u8bc4\u8bba")))},de=function(e){Object(p.a)(n,e);var t=le(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){if(a.state.value){a.setState({submitting:!0});var e=new FormData;e.set("content",a.state.value),a.post("/api/comment/question/"+a.props.questionId,e,function(e){if("ok"===e.status){a.pushNotification("success","\u53d1\u9001\u6210\u529f");var t=[e.data].concat(Object(ae.a)(a.state.comments));a.setState({submitting:!1,value:"",comments:[]}),a.setState({comments:t})}else a.pushNotification("danger","\u53d1\u9001\u5931\u8d25")})}},a.handleChange=function(e){a.setState({value:e.target.value})},a.state={questionId:0,user:0,comments:0,submitting:!1,value:""},a}return Object(f.a)(n,[{key:"componentWillMount",value:function(){this.setState({comments:this.props.comments.content,user:this.props.user,questionId:this.props.questionId})}},{key:"render",value:function(){var e=this.state,t=e.comments,n=e.submitting,a=e.value;return c.a.createElement("div",{style:{marginTop:20}},t.length>0?c.a.createElement(fe,{comments:t}):c.a.createElement(q.a,null,"\u73b0\u5728\u8fd8\u6ca1\u6709\u4eba\u8bc4\u8bba..."),c.a.createElement(ie.a,{avatar:c.a.createElement(Q.a,{icon:"user",alt:"Coder"}),content:c.a.createElement(pe,{onChange:this.handleChange,onSubmit:this.handleSubmit,submitting:n,value:a})}))}}]),n}(I),me=n(727);function he(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var ye=z.a.Title,ge=z.a.Paragraph,Ee=P.a.TextArea,be=function(e){Object(p.a)(n,e);var t=he(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onChangeDesp=function(e){var t=e.target.value,n=a.state.question;n.content=t,a.setState({question:n})},a.showComment=function(){a.setState({showComment:!0}),0===a.state.comments&&(a.setState({loading2:!0}),a.get("/api/comment/question/"+a.state.question.id,function(e){"ok"===e.status&&a.setState({comments:e.data,loading2:!1})}))},a.hideComment=function(){a.setState({showComment:!1})},a.renderTitle=function(e,t){var n=a.state.edit,r=a.state.question.raiseTime;return c.a.createElement(T.a,{type:"flex",justify:"start",align:"middle"},c.a.createElement(q.a,{span:17},c.a.createElement(q.a,{span:24},c.a.createElement(ye,{level:1,style:ve.questionTitle},e)),c.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{width:"100%"}},n?c.a.createElement(Ee,{style:{fontSize:18},onChange:a.onChangeDesp,placeholder:"(\u53ef\u9009) \u6dfb\u52a0\u95ee\u9898\u63cf\u8ff0",autosize:{minRows:2,maxRows:5}}):c.a.createElement(ge,{style:{fontSize:15,lineHeight:"25px",marginVertical:5}},c.a.createElement(H,{desp:t})))),c.a.createElement(q.a,{span:7},c.a.createElement(T.a,{type:"flex",justify:"start",align:"middle"},a.renderUser(a.state.question.questioner.username,r))),c.a.createElement(T.a,{type:"flex",justify:"space-between",style:{marginTop:10}},c.a.createElement(q.a,{span:20,style:{paddingTop:3}},a.renderCheck()),c.a.createElement(q.a,{span:4},a.state.showComment?c.a.createElement(L.a,{onClick:a.hideComment,type:"dashed"},"\u6536\u8d77\u8bc4\u8bba"):c.a.createElement(L.a,{onClick:a.showComment,type:"primary"},"\u8bc4\u8bba"))),a.state.showComment?a.state.loading2?c.a.createElement(B.a,null):c.a.createElement(q.a,{span:24},c.a.createElement(de,{user:a.state.question.questioner,comments:a.state.comments,questionId:a.state.question.id})):null)},a.redirectDocker=function(e){window.open(a.ip+"/api/docker/"+e,"_blank").focus()},a.renderConfirm=function(){return a.state.submit?null:c.a.createElement(T.a,{type:"flex",justify:"start",align:"middle"},c.a.createElement(V.a,{style:{width:"100%",marginBottom:3}}),a.state.submit?null:c.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{width:"100%"}},c.a.createElement(z.a,{style:{fontSize:18}},"Docker-",a.state.question.dockerId," is running"),c.a.createElement(U.a,{type:"loading",style:{marginLeft:10}})),c.a.createElement(L.a,{style:{marginTop:10},size:"large",type:"primary",onClick:function(){return a.redirectDocker(a.state.question.dockerId)}},"\u8fdb\u5165Docker\u5bb9\u5668"),a.state.edit?c.a.createElement(L.a,{style:{marginTop:10,marginLeft:10},size:"large",type:"default",onClick:a.save},"\u4fdd\u5b58\u95ee\u9898\u63cf\u8ff0"):c.a.createElement(L.a,{style:{marginTop:10,marginLeft:10},size:"large",type:"default",onClick:function(){a.setState({edit:!0})}},"\u7f16\u8f91\u95ee\u9898\u63cf\u8ff0"),c.a.createElement(L.a,{style:{marginTop:10,marginLeft:10},size:"large",type:"warning",onClick:a.submit},"\u63d0\u4ea4\u95ee\u9898"))},a.renderAnswer=function(e){return c.a.createElement(ne,{data:e})},a.renderAnswers=function(){if(a.state.submit){var e=a.state.answers;return 0===e.length?c.a.createElement(T.a,{style:{marginTop:100},type:"flex",justify:"center"},c.a.createElement(ge,{style:{fontSize:24}},"\u8ba9\u4f60\u4e45\u7b49\u4e86?")):c.a.createElement(T.a,null,e.map(a.renderAnswer))}return c.a.createElement(T.a,{style:{marginTop:100},type:"flex",justify:"center"},c.a.createElement(ge,{style:{fontSize:24}},"\u63d0\u4ea4\u95ee\u9898\uff0c\u4f7f\u5176\u5728\u7f51\u4e0a\u53ef\u89c1"))},a.renderCheck=function(){var e=a.state,t=e.likeCount,n=e.ulike;return t?n?c.a.createElement(q.a,{style:{width:"100%",marginLeft:5,fontSize:18},span:24},c.a.createElement(me.a,{twoToneColor:"#cf1322",onClick:function(){return a.check(0)}}),"X",t):c.a.createElement(q.a,{style:{width:"100%",marginLeft:5,fontSize:18},span:24},c.a.createElement(me.a,{twoToneColor:"#1890ff",onClick:function(){return a.check(1)}}),"X",t):c.a.createElement(q.a,{style:{width:"100%",marginLeft:5,fontSize:18},span:24},"\u8be5\u95ee\u9898\u8fd8\u6ca1\u6709\u4eba\u70b9\u8d5e\u54e6\uff01",c.a.createElement(me.a,{twoToneColor:"#1890ff",onClick:function(){return a.check(1)}}))},a.check=function(e){1===e?a.post("/api/question/like/"+a.state.question.id,null,function(e){"ok"===e.status?(a.setState({ulike:!0,likeCount:a.state.likeCount+1}),a.pushNotification("success","\u70b9\u8d5e\u6210\u529f")):a.pushNotification("danger","\u70b9\u8d5e\u5931\u8d25")}):a.post("/api/question/unlike/"+a.state.question.id,null,function(e){"ok"===e.status?(a.setState({ulike:!1,likeCount:a.state.likeCount-1}),a.pushNotification("success","\u53d6\u6d88\u70b9\u8d5e\u6210\u529f")):a.pushNotification("danger","\u53d6\u6d88\u70b9\u8d5e\u5931\u8d25")})},a.save=function(){var e=a.state.question,t=e.id,n=e.title,r=e.content,i=new FormData;i.append("title",n),i.append("content",r),a.post("/api/question/save/"+t,i,function(e){"ok"===e.status?(a.pushNotification("success","\u95ee\u9898\u5df2\u4fdd\u5b58"),a.setState({edit:!1})):a.pushNotification("warning",JSON.stringify(e))},function(){a.pushNotification("warning","\u66f4\u65b0\u5931\u8d25")})},a.submit=function(){var e=a.state.question.id;a.post("/api/question/submit/"+e,new FormData,function(e){"ok"===e.status?(a.pushNotification("success","\u95ee\u9898\u5df2\u63d0\u4ea4"),a.setState({submit:!0,edit:!1})):a.pushNotification("warning",JSON.stringify(e))},function(){a.pushNotification("warning","\u63d0\u4ea4\u5931\u8d25")})},a.state={found:!1,question:0,answers:0,submit:!1,edit:!0,unlike:!1,likeCount:0,showComment:!1,loading2:!1,comments:0,id:e.question.questioner.id,name:e.question.questioner.username},a}return Object(f.a)(n,[{key:"componentWillMount",value:function(){this.state.question=this.props.question,this.state.answers=this.props.question.answer,this.state.submit=this.props.question.status,this.state.edit=!this.props.question.status,this.state.ulike=this.props.question.ulike,this.state.likeCount=this.props.question.likeCount}},{key:"renderUser",value:function(e,t){return c.a.createElement(T.a,{type:"flex",style:{width:"100%"}},c.a.createElement(T.a,{type:"flex",align:"middle",justify:"start"},c.a.createElement(Y,{id:this.state.id,name:this.state.name})),c.a.createElement(q.a,{span:18,style:{padding:2}},c.a.createElement(T.a,{type:"flex",align:"middle",justify:"start",style:{width:"80%",fontSize:20}},e),c.a.createElement(T.a,{type:"flex",align:"middle",justify:"start",style:{width:"80%",fontSize:16}},this.handleDate(t)+""+this.handleTime(t))))}},{key:"render",value:function(){var e=this.state.question,t=e.content,n=e.title,a=e.answer;return c.a.createElement(T.a,{style:ve.container},c.a.createElement(q.a,{lg:4,xs:1}),c.a.createElement(q.a,{lg:15,xs:22},this.renderTitle(n,t),this.renderConfirm(),c.a.createElement(T.a,{type:"flex",justify:"start",style:{marginTop:20}},c.a.createElement(V.a,null,c.a.createElement(ye,{level:3},a.length+" \u56de\u7b54"))),this.renderAnswers()),c.a.createElement(q.a,{lg:5,xs:1}))}}]),n}(I),ve={container:{marginTop:"50px"},questionTitle:{lineHeight:"32px",color:"#121212",fontSize:"22px",fontWeight:"600"}};function je(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var ke=z.a.Title,Oe=z.a.Paragraph,we=P.a.TextArea,xe=function(e){Object(p.a)(n,e);var t=je(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onChangeDesp=function(e){var t=e.target.value;a.setState({content:t})},a.showComment=function(){a.setState({showComment:!0}),0===a.state.comments&&(a.setState({loading2:!0}),a.get("/api/comment/question/"+a.state.question.id,function(e){"ok"===e.status&&a.setState({comments:e.data,loading2:!1})}))},a.hideComment=function(){a.setState({showComment:!1})},a.renderTitle=function(e,t,n,r){return c.a.createElement(T.a,{type:"flex",justify:"start",align:"middle"},c.a.createElement(q.a,{span:17},c.a.createElement(ke,{level:1,style:{fontWeight:600,marginBottom:4}},e)),c.a.createElement(q.a,{span:7},c.a.createElement(T.a,{type:"flex",justify:"start",align:"middle"},a.renderUser(n,r))),c.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{width:"100%"}},c.a.createElement(Oe,{style:{fontSize:18,marginBottom:5}},c.a.createElement(H,{desp:t}))),c.a.createElement(T.a,{type:"flex",justify:"space-between",style:{marginTop:10}},c.a.createElement(q.a,{span:20,style:{paddingTop:3}},a.renderCheck()),c.a.createElement(q.a,{span:4},a.state.showComment?c.a.createElement(L.a,{onClick:a.hideComment,type:"dashed"},"\u6536\u8d77\u8bc4\u8bba"):c.a.createElement(L.a,{onClick:a.showComment,type:"primary"},"\u8bc4\u8bba"))),a.state.showComment?a.state.loading2?c.a.createElement(B.a,null):c.a.createElement(q.a,{span:24},c.a.createElement(de,{user:a.state.question.questioner,comments:a.state.comments,questionId:a.state.question.id})):null)},a.renderAnswer=function(e,t){return e.answerer.username===a.loadStorage("user")&&0===e.status?(a.state.edit||a.setState({edit:!0,content:e.content,aid:e.id,time:e.answerTime,dockerId:e.dockerId}),null):c.a.createElement(ne,{data:e,key:t})},a.renderAnswers=function(e){return 0===e.length?c.a.createElement(T.a,{style:{marginTop:100},type:"flex",justify:"center"},c.a.createElement(Oe,{style:{fontSize:24}},"\u53bb\u505a\u7b2c\u4e00\u4e2a\u82f1\u96c4\u5427\uff01")):c.a.createElement(T.a,null,e.map(a.renderAnswer))},a.renderCheck=function(){var e=a.state,t=e.likeCount,n=e.ulike;return t?n?c.a.createElement(q.a,{style:{width:"100%",marginLeft:5,fontSize:18},span:24},c.a.createElement(me.a,{twoToneColor:"#cf1322",onClick:function(){return a.check(0)}}),"X",t):c.a.createElement(q.a,{style:{width:"100%",marginLeft:5,fontSize:18},span:24},c.a.createElement(me.a,{twoToneColor:"#1890ff",onClick:function(){return a.check(1)}}),"X",t):c.a.createElement(q.a,{style:{width:"100%",marginLeft:5,fontSize:18},span:24},"\u8be5\u95ee\u9898\u8fd8\u6ca1\u6709\u4eba\u70b9\u8d5e\u54e6\uff01",c.a.createElement(me.a,{twoToneColor:"#1890ff",onClick:function(){return a.check(1)}}))},a.follow=function(){a.post("/api/user/follow/"+a.state.question.questioner.id,null,function(e){"ok"===e.status&&a.setState({ufol:!1})})},a.check=function(e){1===e?a.post("/api/question/like/"+a.state.question.id,null,function(e){"ok"===e.status?(a.setState({ulike:!0,likeCount:a.state.likeCount+1}),a.pushNotification("success","\u70b9\u8d5e\u6210\u529f")):a.pushNotification("danger","\u70b9\u8d5e\u5931\u8d25")}):a.post("/api/question/unlike/"+a.state.question.id,null,function(e){"ok"===e.status?(a.setState({ulike:!1,likeCount:a.state.likeCount-1}),a.pushNotification("success","\u53d6\u6d88\u70b9\u8d5e\u6210\u529f")):a.pushNotification("danger","\u53d6\u6d88\u70b9\u8d5e\u5931\u8d25")})},a.unfollow=function(){a.post("/api/user/unfollow/"+a.state.question.questioner.id,null,function(e){"ok"===e.status&&a.setState({ufol:!1})})},a.offer=function(e){if(!a.loadStorage("user")||""===a.loadStorage("user"))return a.pushNotification("warning","\u8bf7\u5148\u767b\u5f55"),a.props.dispatch(k()),null;a.setState({loading:!0});a.post("/api/answer/create?questionId="+e,null,function(e){"ok"===e.status?(e=e.data,a.setState({edit:!0,loading:!1,dockerId:e.dockerId,aid:e.id}),a.pushNotification("success","Docker\u5bb9\u5668\u5df2\u7ecf\u88ab\u521b\u5efa")):a.pushNotification("warning",JSON.stringify(e))},function(){a.pushNotification("warning","\u8bf7\u6c42\u9519\u8bef")})},a.save=function(){if(null===a.state.content||""===a.state.content)return a.pushNotification("warning","Describe your solution, less or more"),Promise.reject();var e=a.state,t=e.aid,n=e.content,r=new FormData;return r.append("content",n),a.post("/api/answer/save/"+t,r,function(e){"ok"===e.status?a.pushNotification("success","\u66f4\u65b0\u6210\u529f"):a.pushNotification("warning",JSON.stringify(e))},function(){a.pushNotification("warning","\u66f4\u65b0\u5931\u8d25")})},a.submit=function(){if(null===a.state.desp||""===a.state.desp)return a.pushNotification("warning","\u8bf7\u6216\u591a\u6216\u5c11\u5730\u63cf\u8ff0\u4f60\u7684\u95ee\u9898"),null;var e=a.state.aid,t=function(e){"ok"===e.status?(a.pushNotification("success","\u63d0\u4ea4\u6210\u529f!"),a.setState({edit:!1,answers:[].concat(Object(ae.a)(a.state.answers),[e.data])})):a.pushNotification("warning",JSON.stringify(e))},n=function(){a.pushNotification("warning","\u63d0\u4ea4\u5931\u8d25")};a.save().then(function(){return a.post("/api/answer/submit/"+e,null,t,n)})},a.cancel=function(){a.delete("/api/answer/"+a.state.aid,function(e){"ok"==e.status?a.setState({edit:!1,content:"",dockerId:"",aid:""}):a.pushNotification("warning",JSON.stringify(e))})},a.redirectDocker=function(e){window.open(a.ip+"/api/docker/"+e,"_blank").focus()},a.state={found:!1,question:0,edit:!1,answers:0,content:"",dockerId:"",aid:"",time:"",id:e.question.questioner.id,name:e.question.questioner.username,loading:!1,showComment:!1,loading2:!1,comments:0,likeCount:0,ufol:0,ufollow:0,ulike:0},a}return Object(f.a)(n,[{key:"componentWillMount",value:function(){0===this.state.question&&this.setState({question:this.props.question,answers:this.props.question.answer,ulike:this.props.question.ulike,likeCount:this.props.question.likeCount})}},{key:"renderNew",value:function(){var e=this;return this.state.edit?c.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{marginTop:10,width:"100%"}},c.a.createElement(V.a,{style:{margin:0},direction:"left"},c.a.createElement(ke,{level:4},"\u6211\u7684\u56de\u7b54")),c.a.createElement(T.a,{style:{width:"100%",marginLeft:5,fontSize:18}},"\u89e3\u51b3\u65b9\u6848\u7b80\u660e\u8bf4\u660e\uff1a"),c.a.createElement(we,{onChange:this.onChangeDesp,defaultValue:this.state.desp,placeholder:"\u5fc5\u987b\u63cf\u8ff0\u4f60\u7684\u95ee\u9898",autosize:{minRows:2,maxRows:5}}),c.a.createElement(T.a,{style:{marginLeft:5,width:"100%",marginBottom:10},type:"flex"},c.a.createElement(T.a,{style:{width:"50%",fontSize:16}},"\u6700\u540e\u5bf9\u95ee\u9898\u7684\u590d\u5236\u88ab\u8986\u76d6\u3002"),c.a.createElement(T.a,{style:{width:"50%",fontSize:16},type:"flex",justify:"end"},this.state.time)),c.a.createElement(L.a,{size:"large",type:"primary",onClick:function(){return e.redirectDocker(e.state.dockerId)}},"\u8fdb\u5165Docker\u5bb9\u5668"),c.a.createElement(L.a,{style:{marginLeft:10},size:"large",type:"default",onClick:this.save},"\u66f4\u65b0\u63cf\u8ff0"),c.a.createElement(L.a,{style:{marginLeft:10},size:"large",type:"warning",onClick:this.submit},"\u63d0\u4ea4"),c.a.createElement(L.a,{style:{marginLeft:10},size:"large",type:"warning",onClick:this.cancel},"\u53d6\u6d88")):c.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{marginTop:10,width:"100%"}},c.a.createElement(V.a,{style:{marginBottom:10}}),c.a.createElement(T.a,{style:{width:"100%",marginLeft:5,fontSize:18}},"\u4f60\u8fd8\u6ca1\u6709\u63d0\u51fa\u60f3\u6cd5\u5462\uff01"),c.a.createElement(L.a,{loading:this.state.loading,size:"large",type:"primary",onClick:function(){return e.offer(e.state.question.id)}},"\u8bd5\u7740\u53bb\u89e3\u51b3\u95ee\u9898\u5427\uff01 >"))}},{key:"renderUser",value:function(e,t){return c.a.createElement(T.a,{type:"flex",style:{width:"100%"}},c.a.createElement(q.a,{type:"flex",align:"middle",justify:"start"},c.a.createElement(Y,{id:this.state.id,name:this.state.name})),c.a.createElement(q.a,{span:18,style:{padding:2}},c.a.createElement(T.a,{type:"flex",align:"middle",justify:"start",style:{width:"80%",fontSize:20}},c.a.createElement(q.a,{style:{marginRight:10,marginBottom:5}},e)),c.a.createElement(T.a,{type:"flex",align:"middle",justify:"start",style:{width:"80%",fontSize:16}},this.handleDate(t)+" "+this.handleTime(t))))}},{key:"render",value:function(){var e=this.state.question,t=e.content,n=e.title,a=e.raiseTime,r=e.questioner;return c.a.createElement(T.a,{style:Ce.container},c.a.createElement(q.a,{lg:4,xs:1}),c.a.createElement(q.a,{lg:15,xs:22},this.renderTitle(n,t,r.username,a),c.a.createElement(T.a,{type:"flex",justify:"start",style:{marginTop:20}},c.a.createElement(V.a,null,c.a.createElement(ke,{level:3},this.state.answers.length+" \u56de\u7b54"))),this.renderAnswers(this.state.answers),this.renderNew()),c.a.createElement(q.a,{lg:5,xs:1}))}}]),n}(I),Ce={container:{marginTop:"50px",paddingBottom:"50px"}},Se=Object(g.b)(function(e){return{keyword:e.keywordReducer.keyword}})(xe);function Re(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var De=function(e){Object(p.a)(a,e);var t=Re(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n}return Object(f.a)(a,[{key:"render",value:function(){return c.a.createElement(T.a,{style:Ne.rows},c.a.createElement(q.a,{span:24,style:Ne.rows},c.a.createElement(T.a,{type:"flex",justify:"center"},c.a.createElement("img",{alt:"",style:Ne.pic,src:n(544)}))),c.a.createElement(q.a,{span:24,style:Ne.rows},c.a.createElement(T.a,{type:"flex",justify:"center"},c.a.createElement(z.a,{style:Ne.name},this.props.text))))}}]),a}(I),Ne={container:{marginTop:"100px"},pic:{height:180,width:180},name:{textAlign:"start",fontSize:"24px",color:"black",fontFamily:"Georgia",margin:10}};function Ae(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Ie=function(e){Object(p.a)(n,e);var t=Ae(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={question:0,found:!1},a}return Object(f.a)(n,[{key:"componentWillMount",value:function(){var e=this,t=this.props.location.state.id;0===this.state.question&&this.getWithErrorAction("/api/question/"+t,function(t){"ok"===t.status?e.setState({question:t.data,found:!0}):e.pushNotification("warning","\u8bf7\u60a8\u5148\u767b\u5f55")},function(){e.pushNotification("warning","\u95ee\u9898\u6ca1\u627e\u5230\uff01")})}},{key:"render",value:function(){return this.loadStorage("user")&&""!==this.loadStorage("user")?this.state.found?this.props.location.state&&this.state.question&&this.state.question.questioner.username===this.loadStorage("user")?c.a.createElement(be,{question:this.state.question}):c.a.createElement(Se,{question:this.state.question}):c.a.createElement(T.a,{style:Te.container},c.a.createElement(q.a,{lg:6,xs:1}),c.a.createElement(q.a,{lg:6,xs:1})):c.a.createElement(T.a,{type:"flex",justify:"center",style:{marginTop:200}},c.a.createElement(De,{text:"\u60a8\u8fd8\u6ca1\u6709\u767b\u5f55"}))}}]),n}(I),Te={container:{marginTop:"50px"}};function qe(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var ze=function(e){Object(p.a)(n,e);var t=qe(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return c.a.createElement(T.a,{style:Pe.container},c.a.createElement(T.a,{type:"flex",justify:"center"}))}}]),n}(I),Pe={container:{marginTop:"700px"}},Le=n(722),Be=n(705);function Ve(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Ue={},We=function(e){Object(p.a)(n,e);var t=Ve(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderAvatar=function(){return null===e.props.user?null:c.a.createElement(Le.a,{size:"small",shape:"square",style:Ue.avatar},e.props.user.toUpperCase()[0])},e}return Object(f.a)(n,[{key:"render",value:function(){return null===this.props.user?null:(Ue=Me,this.props.small&&(Ue=Fe),c.a.createElement(q.a,{style:Ue.container},c.a.createElement(Be.a,{style:Ue.title2},this.props.user)))}}]),n}(I),Fe={container:{backgroundColor:"rgba(0,0,0,0)"},title1:{color:"black",fontSize:"18px"},title2:{color:"black",fontSize:"18px",marginLeft:5},avatar:{marginRight:20,width:25,height:25,borderRadius:2}},Me={container:{backgroundColor:"rgba(0,0,0,0)"},title1:{color:"black",fontSize:"20px"},title2:{color:"black",fontSize:"22px"},avatar:{marginRight:20,width:30,height:30,borderRadius:2}},_e=Object(y.f)(We);function He(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Ge=z.a.Title,Je=z.a.Paragraph,Ke=function(e){Object(p.a)(n,e);var t=He(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).renderTitle=function(e,t,n,r,i,o,s,l,u){return c.a.createElement(J.a,{style:{width:"100%",marginBottom:10},title:c.a.createElement(Ge,{level:3},c.a.createElement("a",{onClick:function(){a.props.history.push({pathname:"/user/detail",state:{id:i,user:n,completed:!0}})}},e))},c.a.createElement(q.a,{span:2},c.a.createElement(Y,{id:u,name:n,shape:"square"})),c.a.createElement(q.a,{span:5},c.a.createElement(_e,{user:n})),c.a.createElement(q.a,{span:9}),c.a.createElement(q.a,{span:8},c.a.createElement(Je,{style:{fontSize:18,paddingTop:3,float:"right"}},a.handleDate(r)+" "+a.handleTime(r))),c.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{width:"100%"}},c.a.createElement(Je,{style:{fontSize:14,fontWeight:400,marginTop:10,marginBottom:15}},c.a.createElement(H,{desp:t?"\u95ee\u9898\u63cf\u8ff0: "+t:"\u63d0\u95ee\u8005\u6ca1\u6709\u586b\u5199\u95ee\u9898\u63cf\u8ff0"}))),c.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{width:"100%"}},c.a.createElement(q.a,{span:4},o||0," \u70b9\u8d5e"),c.a.createElement(q.a,{span:4},l||0," \u8bc4\u8bba"),c.a.createElement(q.a,{span:12})))},a.state={desp:1},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props.data,t=e.id,n=e.title,a=e.content,r=e.questioner,i=e.raiseTime,o=e.likeCount,c=e.collectCount,s=e.commentCount;return this.renderTitle(n,a,r.username,i,t,o,c,s,r.id)}}]),n}(I),Qe=Object(y.f)(Ke);function Xe(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Ye=function(e){Object(p.a)(n,e);var t=Xe(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).renderUCards=function(){return c.a.createElement(T.a,{style:{fontSize:20,width:"100%"},type:"flex",justify:"center"},a.state.items.length?a.state.items.map(a.renderUCard):c.a.createElement(q.a,{span:24},"\u73b0\u5728\u8fd8\u6ca1\u6709\u95ee\u9898..."))},a.renderUCard=function(e,t){return 0===e.status?null:c.a.createElement(Qe,{data:e,key:t})},a.state={items:[],loading:!1,user:a.loadStorage("user")},a}return Object(f.a)(n,[{key:"componentWillMount",value:function(){var e=this;this.getWithErrorAction("/api/question/listAll",function(t){"ok"===t.status&&e.setState({items:t.data.content,loading:!1})},function(){e.pushNotification("warning","\u8fde\u63a5\u5931\u8d25")})}},{key:"render",value:function(){return c.a.createElement(T.a,{style:$e.container},c.a.createElement(q.a,{lg:6,xs:1}),c.a.createElement(q.a,{lg:12,xs:22},c.a.createElement(T.a,{style:{fontWeight:"bold",fontSize:20}},"\u95ee\u9898\u5217\u8868"),c.a.createElement(V.a,{style:{marginTop:5}}),this.state.loading?c.a.createElement(q.a,{span:24},c.a.createElement(B.a,null),c.a.createElement(B.a,null),c.a.createElement(B.a,null),c.a.createElement(B.a,null)):this.renderUCards()),c.a.createElement(q.a,{lg:6,xs:1}))}}]),n}(I),$e={container:{marginTop:"50px"}},Ze=n(209);function et(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var tt=function(e){Object(p.a)(n,e);var t=et(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).renderTitle=function(e,t,n,r){return c.a.createElement(J.a,{style:{marginTop:8},bodyStyle:{paddingTop:12,paddingBottom:12,margin:0}},c.a.createElement(q.a,{span:16,style:{fontSize:18,paddingLeft:5,paddingTop:3}},c.a.createElement("a",{onClick:function(){a.props.history.push({pathname:"/user/detail",state:{id:r,user:n,completed:!0}})}},e),c.a.createElement(U.a,{type:"fire",style:{marginRight:5,marginLeft:5,fontSize:13}}),c.a.createElement("p",{style:{fontSize:13,display:"inline"}},null==t?0:t)),c.a.createElement(q.a,{span:8},c.a.createElement(q.a,{span:12},a.renderStatus()),c.a.createElement(q.a,{span:12},c.a.createElement(U.a,{type:"delete",style:{paddingTop:10},onClick:function(){return a.props.deleteQCard(a.props.index)}}))))},a.renderStatus=function(){return"1"==a.props.data.status?c.a.createElement("p",{style:{fontStyle:"Italic",marginBottom:0,paddingTop:7}},a.handleDate(a.props.data.raiseTime)+" "+a.handleTime(a.props.data.raiseTime)):c.a.createElement("p",{style:{fontStyle:"Italic",marginBottom:0,paddingTop:7}},"\u5df2\u4fdd\u5b58")},a.state={},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props.data,t=e.id,n=e.title,a=e.likeCount,r=e.questioner;return this.renderTitle(n,a,r.username,t)}}]),n}(I),nt=Object(y.f)(tt);function at(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var rt=function(e){Object(p.a)(n,e);var t=at(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).update=function(){a.pushNotification("",a.state.desp)},a.handleCopy=function(e){F()(e+"")?a.pushNotification("success","Docker-"+e+" has been copied. Please open it in VS Code"):a.pushNotification("warning","Copy Failed")},a.getDetail=function(e,t){a.props.history.push({pathname:"/user/detail",state:{id:e,user:t}})},a.renderStatus=function(){return"1"==a.props.data.status?c.a.createElement("p",{style:{fontStyle:"Italic",marginBottom:0}},a.handleDate(a.props.data.answerTime)+" "+a.handleTime(a.props.data.answerTime)):c.a.createElement("p",{style:{fontStyle:"Italic",marginBottom:0}},"\u5df2\u4fdd\u5b58")},a.state={},a}return Object(f.a)(n,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.data,n=t.questioner,a=t.questionId,r=t.content,i=t.likeCount,o=t.questionTitle,s=n.username;return c.a.createElement(J.a,{style:{marginTop:8},bodyStyle:{paddingTop:12,paddingBottom:6,margin:0}},c.a.createElement(T.a,{style:{fontSize:14,marginBottom:5},type:"flex",justify:"start",align:"middle"},c.a.createElement("h2",{style:{fontWeight:600,marginBottom:0}},o),c.a.createElement(U.a,{type:"delete",style:{marginLeft:5,marginTop:3},onClick:function(){return e.props.deleteACard(e.props.index)}})),c.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{fontSize:16,width:"100%",marginTop:2,minHeight:25,textOverflow:"hidden"}},c.a.createElement("a",{onClick:function(){e.props.history.push({pathname:"/user/detail",state:{id:a,user:s,completed:!0}})}},r)),c.a.createElement(T.a,{style:{width:"100%",marginTop:6,marginBottom:6},type:"flex",justify:"start",align:"middle"},c.a.createElement(q.a,{span:2},c.a.createElement(U.a,{type:"fire",style:{marginRight:5,fontSize:13}}),i),c.a.createElement(q.a,{span:12},this.renderStatus())))}}]),n}(I),it=Object(y.f)(rt);function ot(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var ct=Ze.a.TabPane,st=function(e){Object(p.a)(n,e);var t=ot(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).deleteQCard=function(e){a.delete("/api/question/"+a.state.qdata[e].id,function(t){if("ok"==t.status){var n=a.state.qdata;n.splice(e,1),a.setState({qdata:n})}else a.pushNotification("warning",JSON.stringify(t))})},a.deleteACard=function(e){a.delete("/api/answer/"+a.state.adata[e].id,function(t){if("ok"==t.status){var n=a.state.adata;n.splice(e,1),a.setState({adata:n})}else a.pushNotification("warning",JSON.stringify(t))})},a.renderQCard=function(e,t){return c.a.createElement(nt,{data:e,key:t,index:t,deleteQCard:a.deleteQCard})},a.renderACard=function(e,t){return c.a.createElement(it,{data:e,key:t,index:t,deleteACard:a.deleteACard})},a.state={qdata:[],adata:[],loading1:!1,loading2:!1},a}return Object(f.a)(n,[{key:"componentWillMount",value:function(){var e=this,t=function(t){e.pushNotification("warning","\u8fde\u63a5\u5931\u8d25")};this.setState({loading1:!0,loading2:!0}),this.getWithErrorAction("/api/question/listMy",function(t){"ok"===t.status&&e.setState({qdata:t.data,loading1:!1})},t),this.getWithErrorAction("/api/answer/listMy",function(t){"ok"===t.status&&e.setState({adata:t.data,loading2:!1})},t)}},{key:"render",value:function(){var e=this;return this.loadStorage("user")&&""!==this.loadStorage("user")?c.a.createElement(T.a,{style:lt.container},c.a.createElement(q.a,{lg:6,xs:1}),c.a.createElement(q.a,{lg:12,xs:22},c.a.createElement(Ze.a,{defaultActiveKey:"1"},c.a.createElement(ct,{tab:"\u95ee\u9898",key:"1"},this.state.loading1?c.a.createElement("div",null,c.a.createElement(B.a,null),c.a.createElement(B.a,null),c.a.createElement(B.a,null)):0===this.state.qdata.length?c.a.createElement(T.a,{style:lt.container,type:"flex",justify:"center"},c.a.createElement(T.a,{style:{fontSize:22,marginTop:200}},c.a.createElement(q.a,{span:24},c.a.createElement(T.a,{type:"flex",justify:"center"},c.a.createElement(q.a,null,"\u73b0\u5728\u8fd8\u6ca1\u6709\u95ee\u9898...")),c.a.createElement(T.a,{type:"flex",justify:"center",style:{marginTop:15}},c.a.createElement(q.a,null,c.a.createElement("a",{onClick:function(){e.props.history.push({pathname:"/user/list"})}},"\u53bb\u53d1\u73b0\u9875\u770b\u770b")))))):this.state.qdata.map(this.renderQCard)),c.a.createElement(ct,{tab:"\u56de\u7b54",key:"2"},this.state.loading2?c.a.createElement("div",null,c.a.createElement(B.a,null),c.a.createElement(B.a,null),c.a.createElement(B.a,null)):0===this.state.adata.length?c.a.createElement(T.a,{style:lt.container,type:"flex",justify:"center"},c.a.createElement(T.a,{style:{fontSize:22,marginTop:200}},c.a.createElement(q.a,{span:24},c.a.createElement(T.a,{type:"flex",justify:"center"},c.a.createElement(q.a,null,"\u73b0\u5728\u8fd8\u6ca1\u6709\u56de\u7b54...")),c.a.createElement(T.a,{type:"flex",justify:"center",style:{marginTop:15}},c.a.createElement(q.a,null,c.a.createElement("a",{onClick:function(){e.props.history.push({pathname:"/user/list"})}},"\u53bb\u53d1\u73b0\u9875\u770b\u770b")))))):this.state.adata.map(this.renderACard)))),c.a.createElement(q.a,{lg:6,xs:1})):c.a.createElement(T.a,{type:"flex",justify:"center",style:{marginTop:200}},c.a.createElement(De,{text:"\u60a8\u8fd8\u6ca1\u6709\u767b\u5f55"}))}}]),n}(I),lt={container:{marginTop:"50px",paddingBottom:"100px"}},ut=n(730),ft=n(77),pt=n(157),dt=n(720),mt=n(728),ht=n(729);n(545);function yt(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var gt=ft.a.Option,Et=function(e){Object(p.a)(n,e);var t=yt(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).modifyButtonClick=function(){a.setState({display_msg:!1})},a.cancelButtonClick=function(){a.setState({display_msg:!0})},a.inputChange=function(e){a.setState({save_btn_disabled:!1,input:e})},a.radioChecked=function(){for(var e=document.getElementById("radioGroup").children,t=0;t<e.length;t++)if(e[t].checked)return e[t].value},a.state={display_btn:!1,display_msg:!0,save_btn_disabled:!0,input:null},a}return Object(f.a)(n,[{key:"render",value:function(){return c.a.createElement(q.a,{className:"each-div"},c.a.createElement(q.a,{span:6,className:"title-div"},c.a.createElement("h3",{className:"title"},this.props.name)),this.state.display_msg?this.renderRow():this.renderModifyData())}},{key:"renderRow",value:function(){var e=this;return null===this.props.content||"null"===this.props.content?c.a.createElement(q.a,{className:"msg",span:18,onMouseOver:function(){return e.handleMouseOver()},onMouseOut:function(){return e.handleMouseOut()}},c.a.createElement("span",{className:"msg-text"},"\u672a\u77e5"),c.a.createElement(L.a,{type:"default",size:"default",className:"modify-btn",style:{display:this.state.display_btn?"inline-block":"none"},onClick:function(){return e.modifyButtonClick()}},c.a.createElement(mt.a,null),c.a.createElement("span",{className:"change-text"},"\u6dfb\u52a0"))):c.a.createElement(q.a,{className:"msg",span:18,onMouseOver:function(){return e.handleMouseOver()},onMouseOut:function(){return e.handleMouseOut()}},c.a.createElement("span",{className:"msg-text"},this.props.content),c.a.createElement(L.a,{type:"default",size:"default",className:"modify-btn",style:{display:this.state.display_btn?"inline-block":"none"},onClick:function(){return e.modifyButtonClick()}},c.a.createElement(ht.a,null),c.a.createElement("span",{className:"change-text"},"\u4fee\u6539")))}},{key:"handleMouseOver",value:function(){this.props.enable_change&&this.setState({display_btn:!0})}},{key:"handleMouseOut",value:function(){this.props.enable_change&&this.setState({display_btn:!1})}},{key:"renderModifyData",value:function(){var e=this;switch(this.props.name){case"\u6635\u79f0":return c.a.createElement(q.a,{span:18},c.a.createElement(P.a,{placeholder:this.props.content?this.props.content:"",style:{width:"50%"},onChange:function(t){e.inputChange(t.target.value)}}),c.a.createElement(L.a,{type:"primary",className:"operate-btn",disabled:!!this.state.save_btn_disabled,onClick:function(){e.cancelButtonClick(),e.props.onChangeState({name:{name:"\u6635\u79f0",content:e.state.input?e.state.input:null},change:0})}},"\u4fdd\u5b58"),c.a.createElement(L.a,{onClick:function(){e.cancelButtonClick()},className:"operate-btn"},"\u53d6\u6d88"));case"\u6027\u522b":return c.a.createElement(q.a,{span:18},c.a.createElement(pt.a.Group,{buttonStyle:"solid",onChange:function(t){return e.inputChange(t.target.value)}},c.a.createElement(pt.a.Button,{value:"\u7537"},"\u7537"),c.a.createElement(pt.a.Button,{value:"\u5973"},"\u5973")),c.a.createElement(L.a,{type:"primary",className:"operate-btn",onClick:function(){e.cancelButtonClick(),e.props.onChangeState({gender:{name:"\u6027\u522b",content:e.state.input?e.state.input:null},change:1})}},"\u4fdd\u5b58"),c.a.createElement(L.a,{onClick:function(){e.cancelButtonClick()},className:"operate-btn"},"\u53d6\u6d88"));case"\u804c\u4e1a":return c.a.createElement(q.a,{span:18},c.a.createElement(P.a,{placeholder:null!==this.props.content&&"null"!==this.props.content?this.props.content:"",style:{width:"50%"},onChange:function(t){e.inputChange(t.target.value)}}),c.a.createElement(L.a,{type:"primary",className:"operate-btn",disabled:!!this.state.save_btn_disabled,onClick:function(){e.cancelButtonClick(),e.props.onChangeState({job:{name:"\u804c\u4e1a",content:e.state.input?e.state.input:null},change:2})}},"\u4fdd\u5b58"),c.a.createElement(L.a,{onClick:function(){e.cancelButtonClick()},className:"operate-btn"},"\u53d6\u6d88"));case"\u6240\u5728\u884c\u4e1a":return c.a.createElement(q.a,{span:18},c.a.createElement(ft.a,{style:{width:"50%"},defaultValue:this.state.input?this.state.input:"\u9ad8\u65b0\u79d1\u6280",onChange:function(t){return e.inputChange(t)}},c.a.createElement(gt,{value:"\u9ad8\u65b0\u79d1\u6280"},"\u9ad8\u65b0\u79d1\u6280"),c.a.createElement(gt,{value:"\u4e92\u8054\u7f51"},"\u4e92\u8054\u7f51"),c.a.createElement(gt,{value:"\u7535\u5b50\u5546\u52a1"},"\u7535\u5b50\u5546\u52a1"),c.a.createElement(gt,{value:"\u7535\u5b50\u6e38\u620f"},"\u7535\u5b50\u6e38\u620f"),c.a.createElement(gt,{value:"\u8ba1\u7b97\u673a"},"\u8ba1\u7b97\u673a"),c.a.createElement(gt,{value:"\u51fa\u7248\u4e1a"},"\u51fa\u7248\u4e1a"),c.a.createElement(gt,{value:"\u91d1\u878d"},"\u91d1\u878d"),c.a.createElement(gt,{value:"\u94f6\u884c"},"\u94f6\u884c"),c.a.createElement(gt,{value:"\u8d22\u52a1"},"\u8d22\u52a1"),c.a.createElement(gt,{value:"\u9152\u5e97"},"\u9152\u5e97"),c.a.createElement(gt,{value:"\u65c5\u6e38"},"\u65c5\u6e38"),c.a.createElement(gt,{value:"\u5e7f\u544a"},"\u5e7f\u544a"),c.a.createElement(gt,{value:"\u5236\u836f"},"\u5236\u836f"),c.a.createElement(gt,{value:"\u4fe1\u606f\u4f20\u5a92"},"\u4fe1\u606f\u4f20\u5a92"),c.a.createElement(gt,{value:"\u6559\u80b2"},"\u6559\u80b2"),c.a.createElement(gt,{value:"\u4e2a\u4f53\u6237"},"\u4e2a\u4f53\u6237"),c.a.createElement(gt,{value:"\u5316\u5de5\u4e1a"},"\u5316\u5de5\u4e1a")),c.a.createElement(L.a,{type:"primary",className:"operate-btn",onClick:function(){e.cancelButtonClick(),e.props.onChangeState({tech:{name:"\u6240\u5728\u884c\u4e1a",content:e.state.input?e.state.input:"\u9ad8\u65b0\u79d1\u6280"},change:3})}},"\u4fdd\u5b58"),c.a.createElement(L.a,{onClick:function(){e.cancelButtonClick()},className:"operate-btn"},"\u53d6\u6d88"));case"\u5e74\u9f84":return c.a.createElement(q.a,{span:18},c.a.createElement(dt.a,{min:1,max:100,style:{width:"50%"},onChange:function(t){e.inputChange(t)},placeholder:null!==this.props.content&&"null"!==this.props.content?this.props.content:""}),c.a.createElement(L.a,{type:"primary",className:"operate-btn",disabled:!!this.state.save_btn_disabled,onClick:function(){e.cancelButtonClick(),e.props.onChangeState({age:{name:"\u5e74\u9f84",content:e.state.input?e.state.input:null},change:4})}},"\u4fdd\u5b58"),c.a.createElement(L.a,{onClick:function(){e.cancelButtonClick()},className:"operate-btn"},"\u53d6\u6d88"));case"\u90ae\u7bb1":return c.a.createElement(q.a,{span:18},c.a.createElement(P.a,{placeholder:this.props.content?this.props.content:"",style:{width:"50%"},onChange:function(t){e.inputChange(t.target.value)}}),c.a.createElement(L.a,{type:"primary",className:"operate-btn",disabled:!!this.state.save_btn_disabled,onClick:function(){e.cancelButtonClick(),e.props.onChangeState({job:{name:"\u90ae\u7bb1",content:e.state.input?e.state.input:null},change:2})}},"\u4fdd\u5b58"),c.a.createElement(L.a,{onClick:function(){e.cancelButtonClick()},className:"operate-btn"},"\u53d6\u6d88"));default:return}}}]),n}(I);function bt(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var vt=function(e){Object(p.a)(n,e);var t=bt(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onChangeState=function(e){var t=Object.keys(e)[0];a.setState(Object(R.a)(Object(R.a)({},e),{},{change:t}),a.modifyState)},a.modifyState=function(){""!==a.state.change&&a.post("/api/user?"+a.state.change+"="+a.state[a.state.change].content,null,function(e){"ok"===e.status?a.pushNotification("success","\u4fee\u6539\u4fe1\u606f\u6210\u529f"):a.pushNotification("warning","\u66f4\u65b0\u5931\u8d25")})},a.state={loading:!1,name:{name:"\u6635\u79f0",content:null},gender:{name:"\u6027\u522b",content:null},job:{name:"\u804c\u4e1a",content:null},tech:{name:"\u6240\u5728\u884c\u4e1a",content:null},age:{name:"\u5e74\u9f84",content:null},email:{name:"\u90ae\u7bb1",content:null},data:null,change:""},a}return Object(f.a)(n,[{key:"componentWillMount",value:function(){var e=this;this.setState({loading:!0}),this.get("/api/user",function(t){"ok"===t.status?e.setState({name:{name:"\u6635\u79f0",content:t.data.username},gender:{name:"\u6027\u522b",content:t.data.gender},job:{name:"\u804c\u4e1a",content:t.data.job},tech:{name:"\u6240\u5728\u884c\u4e1a",content:t.data.tech},age:{name:"\u5e74\u9f84",content:t.data.age},email:{name:"\u90ae\u7bb1",content:t.data.email},loading:!1}):e.pushNotification("warning",JSON.stringify(t))})}},{key:"render",value:function(){return c.a.createElement(T.a,{style:{marginTop:"15px"}},c.a.createElement(q.a,{span:18,offset:3},c.a.createElement(V.a,{orientation:"left"},c.a.createElement("h2",{style:{fontWeight:600}},"\u4e2a\u4eba\u8d44\u6599"))),c.a.createElement(q.a,{span:16,offset:5},c.a.createElement(q.a,{span:6},c.a.createElement("div",null,c.a.createElement(Q.a,{shape:"square",size:128},c.a.createElement(ut.a,{style:{fontSize:"128px",color:"#08c"}})))),c.a.createElement(q.a,{span:18,style:{position:"relative",top:"25px"}},this.state.loading?c.a.createElement(B.a,null):c.a.createElement(Et,Object.assign({},this.state.name,{enable_change:!0,onChangeState:this.onChangeState})),c.a.createElement(V.a,null),this.state.loading?c.a.createElement(B.a,null):c.a.createElement(Et,Object.assign({},this.state.gender,{enable_change:!0,onChangeState:this.onChangeState})),c.a.createElement(V.a,null),this.state.loading?c.a.createElement(B.a,null):c.a.createElement(Et,Object.assign({},this.state.job,{enable_change:!0,onChangeState:this.onChangeState})),c.a.createElement(V.a,null),this.state.loading?c.a.createElement(B.a,null):c.a.createElement(Et,Object.assign({},this.state.tech,{enable_change:!0,onChangeState:this.onChangeState})),c.a.createElement(V.a,null),this.state.loading?c.a.createElement(B.a,null):c.a.createElement(Et,Object.assign({},this.state.age,{enable_change:!0,onChangeState:this.onChangeState})),c.a.createElement(V.a,null),this.state.loading?c.a.createElement(B.a,null):c.a.createElement(Et,Object.assign({},this.state.email,{enable_change:!1,onChangeState:this.onChangeState})),c.a.createElement(V.a,null))))}}]),n}(I);function jt(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var kt=null,Ot=function(e){Object(p.a)(n,e);var t=jt(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).getResult=function(e){a.get("/api/question/search?keywords="+e,function(e){a.setState({loading:!1,data:e.data})})},a.renderItem=function(e){return c.a.createElement(Qe,{data:e})},a.renderList=function(){return a.state.data.length>0?c.a.createElement(T.a,{type:"flex",justify:"center",style:{width:"100%"}},c.a.createElement(q.a,{lg:2,xs:1}),c.a.createElement(q.a,{lg:20,xs:22},a.state.data.map(a.renderItem)),c.a.createElement(q.a,{lg:2,xs:1})):a.state.loading?c.a.createElement(T.a,{type:"flex",justify:"center",style:{width:"100%"}},c.a.createElement(q.a,{span:18},c.a.createElement(B.a,{active:!0}))):c.a.createElement(De,{text:"No result found"})},a.props.location.state&&(kt=a.props.location.state.keyword),a.state={loading:!0,data:[]},a}return Object(f.a)(n,[{key:"componentWillMount",value:function(){this.getResult(kt)}},{key:"render",value:function(){return this.props.keyword&&(kt!==this.props.keyword&&this.getResult(this.props.keyword),kt=this.props.keyword),kt?c.a.createElement(T.a,{style:wt.container},c.a.createElement(T.a,{style:wt.rows,id:"listStart",type:"flex",justify:"center"},c.a.createElement(q.a,{xs:22,sm:20,lg:17},c.a.createElement("h3",{style:wt.titles},"\u641c\u7d22\u7ed3\u679c:"))),c.a.createElement(T.a,{style:wt.rows,type:"flex",justify:"center"},c.a.createElement(q.a,{xs:24,sm:22,lg:20},this.renderList()))):c.a.createElement(T.a,{style:wt.container},c.a.createElement(De,{text:"Access Failed. Please follow the instruction of the site."}))}}]),n}(I),wt={container:{marginTop:"50px"},titles:{marginLeft:25,marginTop:10,fontSize:35,fontFamily:"Georgia"},rows:{marginBottom:30}};function xt(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Ct=function(e){Object(p.a)(n,e);var t=xt(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return c.a.createElement(T.a,null)}}]),n}(I);function St(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Rt=Ze.a.TabPane,Dt=function(e){Object(p.a)(n,e);var t=St(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handlePageJump=function(){a.setState({activeKey:"2"})},a.keyChange=function(e){a.setState({activeKey:e})},a.state={activeKey:"1",languageTips:"Docker\u662f\u4e00\u4e2a\u865a\u62df\u5bb9\u5668\uff0c\u6253\u5f00\u5b83\u8f93\u5165\u4f60\u7684\u767b\u9646\u5bc6\u7801\uff0c\u4f60\u5c31\u53ef\u4ee5\u50cf\u4f7f\u7528VSCode\u4e00\u6837\u4f7f\u7528\u5b83\uff0c\u5728Docker\u4e2d\u5b89\u88c5\u4f60\u9700\u8981\u7684\u6269\u5c55\uff0c\u5c06\u4f60\u7684\u4ee3\u7801\u653e\u5728\u8fd9\u91cc\uff0c\u56de\u7b54\u8005\u5c31\u53ef\u4ee5\u590d\u523b\u4f60\u7684\u4ee3\u7801\u548c\u73af\u5883\uff0c\u8d76\u5feb\u6765\u8bd5\u4e00\u8bd5\u5427\uff01",pageTips:"\u8fd9\u662f\u4e00\u4e2a\u4ee3\u7801\u95ee\u7b54\u4ea4\u6d41\u5e73\u53f0\uff0c\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u63d0\u51fa\u95ee\u9898\uff0c\u4e5f\u53ef\u4ee5\u5728\u8fd9\u91cc\u89e3\u51b3\u522b\u4eba\u7684\u95ee\u9898\uff0c\u5728CodePass\u5f00\u59cb\u50a8\u5b58\u4f60\u7684\u77e5\u8bc6\uff0c\u5206\u4eab\u4f60\u7684\u6545\u4e8b\uff01\u6b22\u8fce\u60a8\u7684\u5230\u6765\uff0c\u8ba9\u6211\u4eec\u5f00\u59cb\u5427\uff01"},a}return Object(f.a)(n,[{key:"render",value:function(){return c.a.createElement(T.a,{style:Nt.container},c.a.createElement(q.a,{lg:6,xs:1}),c.a.createElement(q.a,{lg:12,xs:22},c.a.createElement(Ze.a,{activeKey:this.state.activeKey,onChange:this.keyChange},c.a.createElement(Rt,{tab:"\u7f51\u9875\u4f7f\u7528\u6307\u5357",key:"1"},c.a.createElement(T.a,null,c.a.createElement("h1",{style:Nt.title},"CodePass\u80fd\u505a\u4ec0\u4e48")),c.a.createElement(T.a,null,c.a.createElement("p",{style:Nt.paragraph},this.state.pageTips)),c.a.createElement(T.a,null,c.a.createElement("h1",{style:Nt.title},"\u521b\u5efa\u4f60\u7684\u7b2c\u4e00\u4e2a\u95ee\u9898")),c.a.createElement(T.a,null,c.a.createElement("p",{style:Nt.paragraph},"\u5982\u4f55\u521b\u5efa\u7b2c\u4e00\u4e2a\u95ee\u9898\u5462?\u4f60\u53ef\u4ee5\u5728\u9996\u9875\u7684\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u4f60\u7684\u95ee\u9898\uff0c\u8bf4\u4e0d\u5b9a\u5df2\u7ecf\u6709\u4eba\u5e2e\u4f60\u89e3\u51b3\u4e86\u54e6\u3002\u5982\u679c\u8fd8\u6ca1\u6709\u89e3\u51b3\uff0c\u4f60\u53ef\u4ee5\u521b\u5efa\u65b0\u7684\u95ee\u9898\uff0c\u8fdb\u5165docker\u7f16\u8f91\u4f60\u7684\u4ee3\u7801\uff0cdocker\u5177\u4f53\u4f7f\u7528\u8bf7\u770b",c.a.createElement("a",{onClick:this.handlePageJump},"Docker\u4f7f\u7528")))),c.a.createElement(Rt,{tab:"Docker\u4f7f\u7528",key:"2"},c.a.createElement(T.a,null,c.a.createElement("h1",{style:Nt.title},"\u9a6c\u4e0a\u6559\u4f1a\u4f60\u4f7f\u7528Docker\u955c\u50cf")),c.a.createElement(T.a,null,c.a.createElement("p",{style:Nt.paragraph},this.state.languageTips)),c.a.createElement(T.a,null,c.a.createElement("h1",{style:Nt.title},"Docker\u8bed\u8a00\u652f\u6301")),c.a.createElement(T.a,null,c.a.createElement("p",{style:Nt.paragraph},"\u6211\u4eec\u73b0\u5728\u4e3a\u4f60\u51c6\u5907\u4e86",c.a.createElement("b",null,"C++"),"\u3001",c.a.createElement("b",null,"Java"),"\u548c",c.a.createElement("b",null,"Python3"),"\u7684\u4f9d\u8d56\u9879\uff0c\u4f60\u53ef\u4ee5\u5728Docker\u955c\u50cf\u4e2d\u81ea\u7531\u4e0a\u4f20\u8fd9\u4e09\u79cd\u8bed\u8a00\u7684\u4ee3\u7801\uff01"),c.a.createElement("p",{style:Nt.paragraph},"\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u81ea\u884c\u5b89\u88c5\u4f9d\u8d56\u4ee5\u652f\u6301\u5176\u4ed6\u8bed\u8a00\u7684\u4ee3\u7801\uff0c\u4f46\u662f\u6211\u4eec\u4e0d\u4fdd\u8bc1\u60a8\u7684\u4ee3\u7801\u80fd\u8dd1\u8d77\u6765\u54e6\uff01"))))))}}]),n}(I),Nt={container:{marginTop:"50px",paddingBottom:"100px"},paragraph:{fontSize:"20px",fontFamily:"Arial,'Microsoft Yahei','\u5fae\u8f6f\u96c5\u9ed1'",lineHeight:"30px",textIndent:"2em"},title:{fontSize:"32px"},link:{textDecoration:"underline",color:"#00FFFF"}};function At(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var It=Ze.a.TabPane,Tt=function(e){Object(p.a)(n,e);var t=At(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).deleteQuestion=function(e){a.post("/api/question/unfollow/"+a.state.qCollection[e].id,null,function(t){if("ok"==t.status){var n=a.state.qCollection;n.splice(e,1),a.setState({qCollection:n})}else a.pushNotification("warning",JSON.stringify(t))},null,null)},a.deleteAnswer=function(e){a.post("/api/answer/uncollect/"+a.state.aCollection[e].id,null,function(t){if("ok"==t.status){var n=a.state.aCollection;n.splice(e,1),a.setState({aCollection:n})}else a.pushNotification("warning",JSON.stringify(t))},null,null)},a.state={qCollection:[],aCollection:[]},a}return Object(f.a)(n,[{key:"componentWillMount",value:function(){var e=this,t=function(t){e.pushNotification("warning","Connection Failed")};this.getWithErrorAction("/api/question/listFollow",function(t){"ok"===t.status?e.setState({qCollection:t.data}):e.pushNotification("warning",JSON.stringify(t))},t),this.getWithErrorAction("/api/answer/listCollect",function(t){"ok"===t.status?e.setState({aCollection:t.data}):e.pushNotification("warning",JSON.stringify(t))},t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.qCollection,a=t.aCollection;return c.a.createElement(T.a,{style:qt.container},c.a.createElement(q.a,{lg:6,xs:1}),c.a.createElement(q.a,{lg:12,xs:22},c.a.createElement(Ze.a,{defaultActiveKey:"1"},c.a.createElement(It,{tab:"Questions",key:"1"},0===this.state.qCollection.length?c.a.createElement(T.a,{style:qt.container,type:"flex",justify:"center"},c.a.createElement(T.a,{style:{fontSize:22,marginTop:300}},"\u60a8\u8fd8\u6ca1\u6709\u5173\u6ce8\u95ee\u9898\u54e6...")):c.a.createElement(re.a,{itemLayout:"horizontal",dataSource:n,renderItem:function(t,n){var a=t.id,r=t.questioner.username;return c.a.createElement(re.a.Item,null,c.a.createElement(q.a,{span:20},c.a.createElement(re.a.Item.Meta,{avatar:c.a.createElement(Q.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:c.a.createElement("a",{onClick:function(){e.props.history.push({pathname:"/user/detail",state:{id:a,user:r,completed:!0}})}},t.title),description:t.content})),c.a.createElement(q.a,{span:2},c.a.createElement(U.a,{type:"delete",style:{paddingTop:10},onClick:function(){return e.deleteQuestion(n)}})))}})),c.a.createElement(It,{tab:"Answers",key:"2"},0===this.state.aCollection.length?c.a.createElement(T.a,{style:qt.container,type:"flex",justify:"center"},c.a.createElement(T.a,{style:{fontSize:22,marginTop:300}},"\u60a8\u8fd8\u6ca1\u6709\u6536\u85cf\u56de\u7b54\u54e6...")):c.a.createElement(re.a,{itemLayout:"horizontal",dataSource:a,renderItem:function(t,n){var a=t.id,r=t.questioner.username;return c.a.createElement(re.a.Item,null,c.a.createElement(q.a,{span:20},c.a.createElement(re.a.Item.Meta,{avatar:c.a.createElement(Q.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:c.a.createElement("a",{onClick:function(){e.props.history.push({pathname:"/user/detail",state:{id:a,user:r,completed:!0}})}},t.questionTitle),description:t.content})),c.a.createElement(q.a,{span:2},c.a.createElement(U.a,{type:"delete",style:{paddingTop:10},onClick:function(){return e.deleteAnswer(n)}})))}})))),c.a.createElement(q.a,{lg:6,xs:1}))}}]),n}(I),qt={container:{marginTop:"50px",paddingBottom:"100px"}};function zt(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Pt=function(e){Object(p.a)(n,e);var t=zt(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={current:null,users:null,questions:null,answers:null},a}return Object(f.a)(n,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return c.a.createElement(T.a,{style:{marginTop:20},type:"flex",align:"middle",justify:"center"},c.a.createElement(q.a,{span:18,offset:1}))}}]),n}(I),Lt=(Object(y.f)(Pt),n(725)),Bt=n(713);function Vt(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Ut=function(e){Object(p.a)(n,e);var t=Vt(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).columns=[{title:"Id",dataIndex:"id"},{title:"\u5185\u5bb9",dataIndex:"content"},{title:"\u56de\u7b54\u8005",dataIndex:"answerer.username"},{title:"\u65f6\u95f4",dataIndex:"answerTime",render:function(e){return a.handleDate(e)+a.handleTime(e)}},{title:"\u5bb9\u5668Id",dataIndex:"dockerId"},{title:"\u70b9\u8d5e\u6570",dataIndex:"likeCount"},{title:"\u8bc4\u8bba\u6570",dataIndex:"commentCount"},{title:"\u6536\u85cf\u6570",dataIndex:"collectCount"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return c.a.createElement(Lt.a,{color:e?"gray":"green"},e?"\u5df2\u53d1\u5e03":"\u7f16\u8f91\u4e2d")}},{title:"\u64cd\u4f5c",dataIndex:"x",render:function(e,t){return c.a.createElement(L.a,{onClick:function(){return a.del(t.id)}},"\u5220\u9664")}}],a.fetch=function(e){a.setState({loading:!0}),a.getWithErrorAction("/api/answer/listAll?page="+(e||0),function(e){if("ok"===e.status){var t=e.data;a.setState({loading:!1,data:t.content,pagination:{current:t.pageNumber,total:t.totalElements,onChange:function(e){return a.fetch(e-1)}}})}})},a.state={data:[],pagination:{},loading:!1},a}return Object(f.a)(n,[{key:"del",value:function(e){var t=this;this.delete("/api/answer/"+e,function(n){if("ok"===n.status){var a=t.state.data.map(function(e){return e.id}).indexOf(e);t.state.data.splice(a,1),t.setState({data:t.state.data})}})}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){return c.a.createElement(Bt.a,{rowKey:"id",columns:this.columns,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange})}}]),n}(I);function Wt(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Ft=function(e){Object(p.a)(n,e);var t=Wt(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).columns=[{title:"Id",dataIndex:"id"},{title:"\u7aef\u53e3\u53f7",dataIndex:"port",render:function(e){return e?c.a.createElement("a",{href:a.host+":"+e},e):"-"}},{title:"\u5bc6\u7801",dataIndex:"password"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return c.a.createElement(Lt.a,{color:e?"green":"gray"},e?"\u8fd0\u884c\u4e2d":"\u672a\u8fd0\u884c")}},{title:"\u64cd\u4f5c",dataIndex:"",key:"x",render:function(e,t,n){return 0===t.status?c.a.createElement(L.a,{loading:a.state.bloading[n],type:"primary",onClick:function(){return a.startDocker(t.id,n)}},"\u542f\u52a8"):c.a.createElement(L.a,{loading:a.state.bloading[n],onClick:function(){return a.stopDocker(t.id,n)},type:"danger"},"\u5173\u95ed")}}],a.fetch=function(e){a.setState({loading:!0}),a.getWithErrorAction("/api/docker/listAll?page="+(e||0),function(e){if("ok"===e.status){var t=e.data,n=t.content.map(function(e){return!1});a.setState({loading:!1,data:t.content,pagination:{current:t.pageNumber,total:t.totalElements,onChange:function(e){return a.fetch(e-1)}},bloading:n})}})},a.state={data:[],pagination:{},loading:!1,bloading:[]},a}return Object(f.a)(n,[{key:"startDocker",value:function(e,t){var n=this;if(e){var a=this.state.bloading;a[t]=!0,this.setState({bloading:a}),this.post("/api/docker/start/"+e,null,function(e){if("ok"===e.status){var a=n.state,r=a.bloading,i=a.data;r[t]=!1,i[t].port=e.data.port,i[t].status=e.data.status,i[t].password=e.data.password,n.setState({bloading:r,data:i})}})}}},{key:"stopDocker",value:function(e,t){var n=this;if(e){var a=this.state.bloading;a[t]=!0,this.setState({bloading:a}),this.delete("/api/docker/"+e,function(e){if("ok"===e.status){var a=n.state,r=a.bloading,i=a.data;r[t]=!1,i[t].port=0,i[t].status=0,i[t].password="",n.setState({bloading:r,data:i})}})}}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){return c.a.createElement(Bt.a,{rowKey:"id",columns:this.columns,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange})}}]),n}(I);function Mt(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var _t=function(e){Object(p.a)(n,e);var t=Mt(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).columns=[{title:"Id",dataIndex:"id"},{title:"\u6807\u9898",dataIndex:"title"},{title:"\u5185\u5bb9",dataIndex:"content"},{title:"\u63d0\u95ee\u8005",dataIndex:"questioner.username"},{title:"\u65f6\u95f4",dataIndex:"raiseTime",render:function(e){return a.handleDate(e)+a.handleTime(e)}},{title:"\u5bb9\u5668Id",dataIndex:"dockerId"},{title:"\u70b9\u8d5e\u6570",dataIndex:"likeCount"},{title:"\u8bc4\u8bba\u6570",dataIndex:"commentCount"},{title:"\u6536\u85cf\u6570",dataIndex:"collectCount"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return c.a.createElement(Lt.a,{color:e?"gray":"green"},e?"\u5df2\u53d1\u5e03":"\u7f16\u8f91\u4e2d")}},{title:"\u64cd\u4f5c",dataIndex:"x",render:function(e,t){return c.a.createElement(L.a,{onClick:function(){return a.del(t.id)}},"\u5220\u9664")}}],a.fetch=function(e){a.setState({loading:!0}),a.getWithErrorAction("/api/question/listAll?page="+(e||0),function(e){if("ok"===e.status){var t=e.data;a.setState({loading:!1,data:t.content,pagination:{current:t.pageNumber,total:t.totalElements,onChange:function(e){return a.fetch(e-1)}}})}})},a.state={data:[],pagination:{},loading:!1},a}return Object(f.a)(n,[{key:"del",value:function(e){var t=this;this.delete("/api/question/"+e,function(n){if("ok"===n.status){var a=t.state.data.map(function(e){return e.id}).indexOf(e);t.state.data.splice(a,1),t.setState({data:t.state.data})}})}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){return c.a.createElement(Bt.a,{rowKey:"id",columns:this.columns,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange})}}]),n}(I);function Ht(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Gt=function(e){Object(p.a)(n,e);var t=Ht(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).columns=[{title:"Id",dataIndex:"id"},{title:"\u7528\u6237\u540d",dataIndex:"username"},{title:"\u6027\u522b",dataIndex:"gender"},{title:"\u5de5\u4f5c",dataIndex:"job"},{title:"\u6240\u5728\u884c\u4e1a",dataIndex:"job"},{title:"\u5e74\u9f84",dataIndex:"age"},{title:"\u7c89\u4e1d\u6570",dataIndex:"followerCount"},{title:"\u64cd\u4f5c",dataIndex:"x",render:function(e,t){return c.a.createElement(L.a,{onClick:function(){return a.del(t.id)}},"\u5220\u9664")}}],a.fetch=function(e){a.setState({loading:!0}),a.getWithErrorAction("/api/user/listAll?page="+(e||0),function(e){if("ok"===e.status){var t=e.data;a.setState({loading:!1,data:t.content,pagination:{current:t.pageNumber,total:t.totalElements,onChange:function(e){return a.fetch(e-1)}}})}})},a.state={data:[],pagination:{},loading:!1},a}return Object(f.a)(n,[{key:"del",value:function(e){var t=this;this.delete("/api/user/"+e,function(n){if("ok"===n.status){var a=t.state.data.map(function(e){return e.id}).indexOf(e);t.state.data.splice(a,1),t.setState({data:t.state.data})}})}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){return c.a.createElement(Bt.a,{rowKey:"id",columns:this.columns,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange})}}]),n}(I);function Jt(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Kt=function(e){Object(p.a)(n,e);var t=Jt(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(T.a,null,"Hello"),c.a.createElement(T.a,null,c.a.createElement(q.a,null,"Hello")),c.a.createElement(T.a,null,c.a.createElement(q.a,null,"Hello")))}}]),n}(I),Qt=n(711),Xt=n(296),Yt=["component","user_redux","admin_redux","sales_redux","location","history","dispatch","path","role","auth"],$t=function(e){var t=e.component,n=e.user_redux,a=e.admin_redux,r=e.sales_redux,i=(e.location,e.history),o=e.dispatch,s=e.path,l=e.role,u=e.auth,f=Object(Xt.a)(e,Yt),p=function(e){e&&e.id||i.replace("/user/home"),o(w())},d=!1;switch(l){case 0:d=n;break;case 1:d=a;break;case 2:d=r}return c.a.createElement(y.b,Object.assign({},f,{path:s,render:function(e){return d||!u?c.a.createElement(t,null):(n="warning",a="\u8bf7\u5148\u767b\u5f55\u518d\u8fdb\u884c\u64cd\u4f5c",D.a.config({placement:"topRight",top:80,duration:4}),"warning"===n?D.a.warning({message:a,description:"\u8bf7\u6c42\u5931\u8d25"}):"success"===n?D.a.success({message:a,description:"\u8bf7\u6c42\u6210\u529f"}):D.a.open({message:a,description:""}),i.push({pathname:"/user/home"}),o(k()),o(x(p)),null);var n,a}}))};$t.defaultProps={user:null,role:0};var Zt=Object(g.b)(function(e){return{user_redux:e.identityReducer.user,admin_redux:e.identityReducer.admin,sales_redux:e.identityReducer.sales}})(Object(y.f)($t)),en=n(709),tn=n(211),nn=n(708),an=n(164),rn=n(30),on=n(726);function cn(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var sn=P.a.TextArea,ln=function(e){Object(p.a)(n,e);var t=cn(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).request=function(){if(a.setState({optVis:!1}),!a.loadStorage("user")||""===a.loadStorage("user"))return a.pushNotification("warning","\u8bf7\u5148\u767b\u5f55"),a.props.dispatch(k()),null;var e=a.state.title;if(""===e)return a.pushNotification("warning","\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a"),null;a.setState({loading:!0});var t=new FormData;t.append("title",e);a.post("/api/question/create",t,function(e){"ok"===e.status?(e=e.data,a.setState({loading:!1,dockerId:e.dockerId,qid:e.id}),a.pushNotification("success","Docker\u5bb9\u5668\u73b0\u5728\u521b\u5efa\u597d\u4e86!"),a.timeout(600).then(function(){return a.setState({loading2:!1})})):a.pushNotification("warning",JSON.stringify(e))},function(e){a.pushNotification("warning","\u8bf7\u6c42\u5931\u8d25")})},a.redirectDocker=function(){window.open(a.ip+"/api/docker/"+a.state.dockerId,"_blank").focus()},a.submit=function(){var e=a.state,t=e.qid,n=e.title,r=e.desp,i=a.loadStorage("user"),o=new FormData;o.append("title",n),o.append("content",r);a.post("/api/question/save/"+t,o,function(e){"ok"===e.status?(a.setState({loading:!1,dockerId:e.dockerId,qid:e.qid}),a.pushNotification("success","\u95ee\u9898\u5df2\u7ecf\u4fdd\u5b58"),a.timeout(600).then(function(){return a.props.history.push({pathname:"/user/detail",state:{id:t,user:i,completed:!1}})})):a.pushNotification("warning",JSON.stringify(e))},function(e){a.pushNotification("warning","\u63d0\u4ea4\u5931\u8d25")}).then(function(){a.post("/api/question/submit/"+t)})},a.renderDocker=function(){var e=a.state.dockerId,t={width:"100%",opacity:.9,fontFamily:"Georgia",fontSize:18};return""!==e?a.state.loading2?c.a.createElement(J.a,{style:t},c.a.createElement(B.a,{active:!0})):c.a.createElement(J.a,{style:t},c.a.createElement(P.a,{style:{marginBottom:3,fontWeight:"bold"},defaultValue:a.state.title,onChange:function(e){return a.onChangeTitle(e,!1)}}),c.a.createElement(sn,{addonBefore:"\u63cf\u8ff0\u60a8\u7684\u95ee\u9898",onChange:a.onChangeDesp,placeholder:"\u8bf7\u5728\u8fd9\u91cc\u9644\u4e0a\u66f4\u591a\u95ee\u9898\u63cf\u8ff0\u4ee5\u5e2e\u52a9\u60a8\u7684\u95ee\u9898\u6536\u83b7\u66f4\u5408\u9002\u56de\u7b54",autosize:{minRows:2,maxRows:5}}),c.a.createElement(T.a,{style:{width:"100%",fontSize:14,marginTop:7},type:"flex",justify:"end"},"Docker\u5bb9\u5668-",e,"\u5df2\u7ecf\u88ab\u5efa\u7acb\u597d\u4e86\uff01"),c.a.createElement(T.a,{style:{width:"100%"},type:"flex",justify:"end"},c.a.createElement(L.a,{style:{marginTop:5},size:"large",type:"primary",onClick:a.redirectDocker},"\u73b0\u5728\u6253\u5f00\u60a8\u7684Docker\u5bb9\u5668\u6765\u7ed9\u6211\u4eec\u5c55\u793a\u4f60\u7684\u4ee3\u7801\u5427\uff01")),c.a.createElement(T.a,{style:{width:"100%"},type:"flex",justify:"end"},c.a.createElement(L.a,{style:{marginTop:5},size:"large",type:"link",onClick:a.submit},"\u8fdb\u5165\u95ee\u9898\u8be6\u60c5\u9875"))):null},a.onChangeTitle=function(e,t){a.setState({title:e}),t&&(""===e?a.setState({optVis:!1}):(a.setState({optVis:!0}),a.get("/api/question/search?keywords="+e,function(e){"ok"===e.status&&a.setState({optData:e.data})})))},a.onChangeDesp=function(e){var t=e.target.value;a.setState({desp:t})},a.renderInput=function(){var e={};return e=a.state.isEnter?{width:"100%",opacity:.8,fontFamily:"Georgia",fontSize:18}:{width:"100%",opacity:.4,fontFamily:"Georgia",fontSize:18},c.a.createElement(on.a,{size:"large",style:e,onChange:function(e){return a.onChangeTitle(e,!0)},disabled:""!==a.state.dockerId,placeholder:"\u63cf\u8ff0\u60a8\u9047\u5230\u7684\u95ee\u9898"},c.a.createElement(P.a,{suffix:c.a.createElement(L.a,{className:"search-btn",style:{marginRight:-12},size:"large",type:"link",loading:a.state.loading,onClick:a.request,disabled:""!==a.state.dockerId},"\u63d0\u95ee")}))},a.state={isEnter:!1,title:"",desp:"",loading:!1,loading2:!0,caption:"Submit",dockerId:"",qid:0,optData:[{title:"CodePass \u4f7f\u7528\u6307\u5357",content:"CodePass \u4f7f\u7528\u6307\u5357"},{title:"Hello world",content:"\u6d4b\u8bd5\u63d0\u95ee"}],optVis:!1},a}return Object(f.a)(n,[{key:"timeout",value:function(e){return new Promise(function(t,n){setTimeout(t,e,"done")})}},{key:"renderOpt",value:function(){var e=this;if(this.state.optVis)return c.a.createElement("div",null,c.a.createElement("span",{style:{fontSize:22}},"\u60a8\u53ef\u80fd\u60f3\u95ee:"),c.a.createElement(re.a,{bordered:!0,itemLayout:"horizontal",dataSource:this.state.optData,renderItem:function(t){return c.a.createElement(re.a.Item,null,c.a.createElement(re.a.Item.Meta,{title:c.a.createElement("a",{title:"\u8bf7\u6d4f\u89c8\u95ee\u9898\u7684\u7ec6\u8282",style:{color:"white",fontSize:22},onClick:function(){var n=e.loadStorage("user"),a=t.id;e.props.history.push({pathname:"/user/detail",state:{id:a,tx:n,completed:!0}})}},t.title),description:c.a.createElement("span",{style:{color:"white"}},t.description)}))}}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{onClick:function(){return e.setState({isEnter:!0})}},this.renderInput(),this.renderOpt(),this.renderDocker())}}]),n}(I),un=Object(g.b)(function(e){return{keyword:e.keywordReducer.keyword}})(Object(y.f)(ln)),fn=(n(599),n(290)),pn=n.n(fn);function dn(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var mn=an.a.BgElement,hn=0,yn=function(e){Object(p.a)(n,e);var t=dn(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderButton=function(e){var t=e.icon,n=e.text,a=e.onClick,r=e.href;return c.a.createElement(L.a,{type:"primary",style:gn.button,icon:t,size:"large",onClick:a,href:r,ghost:!0},n)},e.renderGradient=function(){if(0===e.props.index)return c.a.createElement(rn.b,{animation:{y:30,opacity:0,type:"from"},style:gn.gradient},c.a.createElement("div",{style:{height:"300px",backgroundImage:"linear-gradient(rgba(0,0,0,0),rgba(255,255,255,1))"}}))},e.renderElement=function(){return hn++,c.a.createElement(an.a,{style:gn.element,key:hn+"",prefixCls:"banner-user-elem",followParallax:{delay:500,data:[{id:"bg"+hn,value:20,bgPosition:"50%",type:["backgroundPositionX"]}]}},e.renderGradient(),c.a.createElement(mn,{key:"bg"+hn,style:Object(R.a)(Object(R.a)({},{backgroundImage:"url(".concat(pn.a,")")}),gn.bg),id:"bg"+hn}),c.a.createElement(rn.b,{animation:{y:30,opacity:0,type:"from"},id:"title",style:gn.title2},"\u6b22\u8fce\u6765\u5230"),c.a.createElement(rn.b,{animation:{y:30,opacity:0,type:"from"},id:"title",style:gn.title},"CodePass"),c.a.createElement(rn.b,{animation:{y:30,opacity:0,type:"from",delay:100},id:"title2",style:gn.title2},"\u57fa\u4e8e Docker \u548c Code-Server \u7684\u4ee3\u7801\u95ee\u7b54\u793e\u533a"),c.a.createElement(rn.b,{animation:{y:30,opacity:0,type:"from",delay:300},id:"title2",style:gn.title2},c.a.createElement(V.a,{style:{width:"50%"}})),c.a.createElement(rn.b,{animation:{y:30,opacity:0,type:"from",delay:300},id:"title2",style:gn.title2},"\u9047\u5230\u65b0\u95ee\u9898?"),c.a.createElement(rn.b,{animation:{y:50,opacity:0,type:"from",delay:300},id:"bar",style:gn.bar},c.a.createElement(un,null)))},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement(an.b,{ref:function(t){e.props.getBanner(t)},type:"vertical",style:{height:"800px"},arrow:!1,dragPlay:!1,autoPlay:!0,autoPlaySpeed:5e3},this.renderElement())}}]),n}(I),gn={element:{textAlign:"start",color:"white",position:"relative"},gradient:{position:"absolute",top:"700px",height:"100px",left:0,right:0,zIndex:5},bg:{position:"absolute",top:0,left:-100,right:-100,backgroundSize:"cover",backgroundPosition:"center",height:"800px"},title:{fontSize:"45px",top:"15%",left:"20%",fontFamily:"Georgia"},title2:{fontSize:"27px",top:"15%",left:"20%",fontFamily:"Georgia",width:"50%"},bar:{zIndex:6,top:"15%",width:"50%",left:"20%"}},En=yn;function bn(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var vn=on.a.Option,jn=0,kn=function(e){Object(p.a)(n,e);var t=bn(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).search=function(){var e=a.state.name;a.props.dispatch(C(e)),e&&""!==e?(a.props.history.push({pathname:"/user/",state:{keyword:e}}),a.timeout(1).then(function(){return a.props.history.push({pathname:"/user/search",state:{keyword:e}})})):a.pushNotification("warning","\u5173\u952e\u8bcd\u4e0d\u80fd\u4e3a\u7a7a\u3002")},a.fetchAutoComplete=function(e){if(0!==e.length){a.get("/api/question/searchRecommend?keywords="+e+"&limits=5",function(e){var t=e.data;a.setState({dataSource:t})})}},a.autoOnChange=function(e){var t=e.split(",")[0];a.setState({name:e}),a.timer&&clearTimeout(a.timer),a.timeout(500).then(function(){a.fetchAutoComplete(t)})},a.renderSearch=function(){var e={};return e=a.state.isEnter?{width:"100%",opacity:1,fontFamily:"Georgia"}:{width:"100%",opacity:.4,fontFamily:"Georgia"},c.a.createElement(on.a,{size:"large",style:e,defaultActiveFirstOption:!1,dataSource:a.state.dataSource.map(function(e){var t=e+","+(jn+=1);return c.a.createElement(vn,{key:t},e)}),onChange:a.autoOnChange,placeholder:"\u8bf7\u8f93\u5165\u4f60\u8981\u641c\u7d22\u7684\u95ee\u9898\u5173\u952e\u8bcd"},c.a.createElement(P.a.Search,{size:"large",onSearch:a.search}))},a.state={isEnter:!1,dataSource:[],name:""},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{onClick:function(){return e.setState({isEnter:!0})}},this.renderSearch())}}]),n}(I),On=Object(y.f)(Object(g.b)(function(e){return{keyword:e.keywordReducer.keyword}})(kn)),wn=n(706),xn=n(714);function Cn(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Sn=function(e){Object(p.a)(n,e);var t=Cn(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleClose=function(e){return function(){a.setState(Object(S.a)({},e,null))}},a.signOut=function(){a.props.dispatch(j())},a.personalData=function(){a.props.history.push("/user/person")},a.collections=function(){a.props.history.push("/user/collect")},a.state={},a}return Object(f.a)(n,[{key:"render",value:function(){return c.a.createElement(wn.a,{component:"nav"},c.a.createElement(xn.a,{button:!0,onClick:this.personalData},c.a.createElement(Be.a,null,"\u4e2a\u4eba\u8d44\u6599")),c.a.createElement(xn.a,{button:!0,onClick:this.signOut},c.a.createElement(Be.a,null,"\u6ce8\u9500")))}}]),n}(I),Rn=Object(y.f)(Object(g.b)(function(e){return{user:e.identityReducer.user,admin:e.identityReducer.admin}})(Sn));function Dn(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Nn=function(e){Object(p.a)(n,e);var t=Dn(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleClose=function(t){return function(){e.setState(Object(S.a)({},t,null))}},e.renderAvatar=function(){var t=e.props,n=t.user,a=t.admin;return null===n&&null===a?null:c.a.createElement(Le.a,{style:An.avatar},(n||a||"Coder").toUpperCase()[0])},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.admin;return null===t&&null===n?null:c.a.createElement(T.a,{type:"flex",align:"middle",justify:"center",style:An.container},this.renderAvatar(),c.a.createElement(Be.a,{style:An.title1},"\u6b22\u8fce,"),c.a.createElement(Be.a,{style:An.title2},this.props.user||this.props.admin||"Coder"))}}]),n}(I),An={container:{backgroundColor:"rgba(0,0,0,0)"},title1:{color:"white",fontSize:"20px"},title2:{color:"white",fontSize:"22px",marginLeft:5},avatar:{marginRight:20}},In=Object(y.f)(Object(g.b)(function(e){return{user:e.identityReducer.user,admin:e.identityReducer.admin}})(Nn));function Tn(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var qn=E.a.Header,zn=function(e){Object(p.a)(a,e);var t=Tn(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).handleClick=function(e){r.handlePath(),r.state.banner&&r.state.banner.slickGoTo(0),r.props.history.push(e.key+"")},r.handlePath=function(){var e=r.props.history.location.pathname;r.state.index="/user/home"===e||"/user"===e?0:"/user/list"===e?1:"/user/my"===e?2:"/user/help"===e?3:-1},r.renderItems=function(e){return c.a.createElement(tn.a.Item,{key:e.key,style:{color:"#d8d8d8"}},c.a.createElement(U.a,{type:e.icon}),e.name)},r.renderMenu=function(){return c.a.createElement(q.a,{span:14},c.a.createElement(tn.a,{theme:"white",mode:"horizontal",style:Pn.menu,electedkeys:[r.state.index],onClick:r.handleClick},r.props.items.map(r.renderItems)))},r.signIn=function(){r.props.dispatch(k())},r.signUp=function(){r.props.dispatch(O())},r.renderUser=function(){if(null===r.props.user&&null===r.props.admin)return c.a.createElement(q.a,{span:10},c.a.createElement(T.a,{type:"flex",justify:"end",align:"middle",style:{marginRight:"40px"}},c.a.createElement(L.a,{style:{color:"white"},type:"link",icon:"user",size:"large",onClick:r.signIn},"\u767b\u5f55"),c.a.createElement(L.a,{type:"primary",icon:"user-add",size:"large",onClick:r.signUp},"\u6ce8\u518c")));var e=c.a.createElement(Rn,null);return c.a.createElement(q.a,{span:10},c.a.createElement(T.a,{type:"flex",justify:"end",style:{marginRight:"40px"}},c.a.createElement(nn.a,{content:e},c.a.createElement(L.a,{style:{height:64,backgroundColor:"rgba(0,0,0,0)"},type:"link"},c.a.createElement(In,null)))))},r.renderLeftHeader=function(){return c.a.createElement(q.a,{xs:0,sm:0,lg:10},c.a.createElement(q.a,{sm:0,lg:10},c.a.createElement(T.a,{type:"flex",justify:"center"},c.a.createElement("a",{onClick:function(){r.props.history.push({pathname:"/user/home"})}},c.a.createElement("img",{alt:"",style:Pn.logo,src:n(141)})))),c.a.createElement(q.a,{sm:12,lg:10},c.a.createElement(On,null)))},r.renderRightHeader=function(){return c.a.createElement(q.a,{xs:24,sm:24,lg:14},c.a.createElement(T.a,{type:"flex",justify:"end",align:"middle"},r.renderMenu(),r.renderUser()))},r.renderBanner=function(){if(r.handlePath(),0===r.state.index)return c.a.createElement(En,{getBanner:function(e){return r.state.banner=e},index:r.state.index})},r.handleStyle=function(){return r.handlePath(),Pn.paper_normal},r.state={isEnter:!1,index:0,bannerData:{},banner:null},r}return Object(f.a)(a,[{key:"componentWillMount",value:function(){this.handlePath()}},{key:"render",value:function(){this.state.index;var e=this.handleStyle();return c.a.createElement(qn,{style:Object(R.a)({},{backgroundColor:"white",padding:0})},c.a.createElement(T.a,null,this.renderBanner(),c.a.createElement(T.a,{span:24,style:Pn.header},c.a.createElement(en.a,{elevation:6,style:e},c.a.createElement(T.a,{type:"flex",align:"middle"},this.renderLeftHeader(),this.renderRightHeader())))))}}]),a}(I),Pn={logo:{height:"64px",width:"192px"},header:{position:"absolute",top:"0px",right:"0px",left:"0px",zIndex:10},menu:{flex:1,fontSize:"20px",lineHeight:"64px",border:"0px",backgroundColor:"rgba(0,0,0,0)"},paper:{backgroundColor:"rgba(0,0,0,0.2)",borderRadius:0},paper_normal:{backgroundColor:"rgba(0,0,0,0.7)",borderRadius:0}},Ln=Object(y.f)(Object(g.b)(function(e){return{user:e.identityReducer.user,admin:e.identityReducer.admin,signInVisible:e.modalReducer.signInVisible,signUpVisible:e.modalReducer.signUpVisible}})(zn)),Bn=n(715),Vn=n(710),Un=n(712);function Wn(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Fn=oe.a.Item,Mn=(o.Component,{container:{width:"128px",height:"128px"}});function _n(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Hn=oe.a.Item,Gn=function(e){Object(p.a)(n,e);var t=_n(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(f.a)(n,[{key:"hasErrors",value:function(e){return Object.keys(e).some(function(t){return e[t]})}},{key:"render",value:function(){var e=this.props.form.getFieldsError;return c.a.createElement(Hn,{style:{marginBottom:"10px"}},c.a.createElement(L.a,{type:"primary",htmlType:"submit",disabled:this.hasErrors(e()),style:this.props.style},this.props.label))}}]),n}(o.Component);function Jn(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Kn=oe.a.Item,Qn=ft.a.Option;o.Component;function Xn(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Yn=function(e){Object(p.a)(n,e);var t=Xn(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"renderInput",value:function(){return this.props.width?c.a.createElement(P.a,{style:{width:this.props.widthz},type:this.props.inputType,rows:this.props.rows,prefix:c.a.createElement(U.a,{type:this.props.icon})}):c.a.createElement(P.a,{size:"large",style:{width:"396px",height:"40px"},type:this.props.inputType,rows:this.props.rows,prefix:c.a.createElement(U.a,{type:this.props.icon})})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.message;return c.a.createElement(oe.a.Item,Object.assign({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:14}}},{label:this.props.label}),e(this.props.name,{initialValue:this.props.defaultValue,rules:[{type:this.props.type,message:""===t?"\u4e0d\u662f\u6709\u6548\u7684"+this.props.type:t},{required:this.props.required,message:""===t?"\u8bf7\u8f93\u5165\u60a8\u7684"+this.props.name1+" !":t},{validator:this.props.validator}]})(c.a.createElement(P.a,{size:"large",style:{width:"349px"},type:this.props.inputType,rows:this.props.rows,prefix:c.a.createElement(U.a,{type:this.props.icon})})))}}]),n}(o.Component);function $n(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}Yn.defaultProps={required:!1,rows:1,defaultValue:"",message:""};var Zn=function(e){Object(p.a)(a,e);var t=$n(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),r.props.form.validateFields(function(e,t){var n=t.usrname,a=t.pwd;if(""!==n)if(""!==a){var i=new FormData;i.append("username",n),i.append("password",a);r.post("/api/login",i,function(e){if("ok"===e.status){var t=e.data;localStorage.setItem("token",t.token),t.isAdmin?(r.props.dispatch(v(n)),r.pushNotification("success","\u6b22\u8fce\u7ba1\u7406\u5458"+n+"\u56de\u5230CodePass")):(r.props.dispatch(b(n)),r.pushNotification("success","\u6b22\u8fce"+n+"\u56de\u5230CodePass"),r.get("/api/user",function(e){"ok"===e.status&&null===e.data.email&&r.pushNotification("success","\u586b\u5199\u90ae\u7bb1\u6709\u52a9\u4e8e\u60a8\u627e\u56de\u5bc6\u7801\u54e6!")})),r.props.onCancel()}else r.pushNotification("warning","\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef")},function(e){r.pushNotification("warning","\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef")})}else r.pushNotification("warning","\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",r.props.dispatch);else r.pushNotification("warning","\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a",r.props.dispatch)})},r.verifyPassword=function(e){e.preventDefault(),r.props.form.validateFields(function(e,t){var n=t.usrname,a=t.verifyNumber,i=t.newPwd,o=t.againPwd;if(""!==n)if(""!==a)if(""!==i)if(""!==o)if(i===o){var c=new FormData;c.append("name",n),c.append("password",i),c.append("captcha",a);r.post("/api/reset/password",c,function(e){if("ok"===e.status){var t=e.data;r.pushNotification("success",t),r.props.onCancel()}else r.pushNotification("warning","\u4fee\u6539\u7528\u6237\u5bc6\u7801\u5931\u8d25")},function(e){r.pushNotification("warning","\u4fee\u6539\u7528\u6237\u5bc6\u7801\u5931\u8d25")})}else r.pushNotification("warning","\u5bc6\u7801\u4e0d\u4e00\u81f4",r.props.dispatch);else r.pushNotification("warning","\u786e\u8ba4\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",r.props.dispatch);else r.pushNotification("warning","\u65b0\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",r.props.dispatch);else r.pushNotification("warning","\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a",r.props.dispatch);else r.pushNotification("warning","\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a",r.props.dispatch)})},r.getVerify=function(e){e.preventDefault(),r.props.form.validateFields(function(e,t){var n=t.usrname;t.verifyNumber,t.newPwd,t.againPwd;if(""!==n){var a=new FormData;a.append("name",n);r.post("/api/reset/email",a,function(e){if("ok"===e.status){var t=e.data;r.pushNotification("success",t)}else r.pushNotification("warning","\u83b7\u53d6\u9a8c\u8bc1\u7801\u5931\u8d25")},function(e){r.pushNotification("warning","\u83b7\u53d6\u9a8c\u8bc1\u7801\u5931\u8d25")})}else r.pushNotification("warning","\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a",r.props.dispatch)})},r.renderLogo=function(){return c.a.createElement(T.a,{type:"flex",justify:"center"},c.a.createElement("img",{alt:"",style:ea.logo,src:n(141)}))},r.renderContent=function(){return c.a.createElement(T.a,{type:"flex",justify:"center",align:"middle",style:{borderRadius:"20px"}},c.a.createElement(q.a,null,r.state.isFindPwd?r.renderFindPwd():r.renderLogin()))},r.switchToLogin=function(){r.setState({isFindPwd:!1})},r.switchToPwd=function(){r.setState({isFindPwd:!0})},r.state={isFindPwd:!1},r}return Object(f.a)(a,[{key:"renderFindPwd",value:function(){return c.a.createElement(T.a,{style:ea.cardContainer,type:"flex",justify:"center"},c.a.createElement(T.a,{type:"flex",justify:"start",style:ea.welcome},"\u6b22\u8fce\u6765\u5230CodePass"),c.a.createElement(T.a,{type:"flex",justify:"start",style:ea.welcome2}),c.a.createElement(oe.a,{onSubmit:this.verifyPassword,type:"flex",justify:"center"},c.a.createElement(T.a,{type:"flex",justify:"center"},c.a.createElement(T.a,{style:{width:"100%",marginLeft:"80px",color:"#AAAAAA",fontSize:15},type:"flex",justify:"start"},"\u8bf7\u8f93\u5165\u4f60\u7684\u7528\u6237\u540d:"),c.a.createElement(T.a,{type:"flex",justify:"center"},c.a.createElement(q.a,{span:12},c.a.createElement(Yn,{form:this.props.form,label:"",name:"usrname",required:!0,icon:"user",name1:"\u7528\u6237\u540d"})),c.a.createElement(q.a,{span:6,style:{position:"relative",left:"6px"}},c.a.createElement(L.a,{type:"dashed",size:"large",onClick:this.getVerify},"\u83b7\u53d6\u9a8c\u8bc1\u7801"))),c.a.createElement(T.a,{style:{width:"80%",marginLeft:"80px",color:"#AAAAAA",fontSize:15},type:"flex",justify:"start"},"\u9a8c\u8bc1\u7801:"),c.a.createElement(Yn,{form:this.props.form,label:"",name:"verifyNumber",required:!0,icon:"api",name1:"\u9a8c\u8bc1\u7801"}),c.a.createElement(T.a,{style:{width:"100%",marginLeft:"80px",color:"#AAAAAA",fontSize:15},type:"flex",justify:"start"},"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801:"),c.a.createElement(Yn,{form:this.props.form,label:"",name:"newPwd",required:!0,icon:"lock",inputType:"password",name1:"\u65b0\u5bc6\u7801"}),c.a.createElement(T.a,{style:{width:"100%",marginLeft:"80px",color:"#AAAAAA",fontSize:15},type:"flex",justify:"start"},"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801:"),c.a.createElement(Yn,{form:this.props.form,label:"",name:"againPwd",required:!0,icon:"lock",inputType:"password",name1:"\u786e\u8ba4\u5bc6\u7801"}),c.a.createElement(Gn,{form:this.props.form,label:"\u786e\u8ba4",style:ea.button}),c.a.createElement(L.a,{style:ea.button2,onClick:this.props.onCancel},"\u53d6\u6d88"))),c.a.createElement(T.a,{type:"flex",justify:"center"},c.a.createElement(q.a,null,c.a.createElement(L.a,{onClick:this.switchToLogin,type:"link"},"\u8fd4\u56de\u767b\u5f55"))))}},{key:"renderLogin",value:function(){return c.a.createElement(T.a,{style:ea.cardContainer,type:"flex",justify:"center"},c.a.createElement(T.a,{type:"flex",justify:"start",style:ea.welcome},"\u6b22\u8fce\u6765\u5230CodePass"),c.a.createElement(T.a,{type:"flex",justify:"start",style:ea.welcome2}),c.a.createElement(oe.a,{onSubmit:this.handleSubmit,type:"flex",justify:"center"},c.a.createElement(T.a,{type:"flex",justify:"center"},c.a.createElement(T.a,{style:{width:"100%",marginLeft:"80px",color:"#AAAAAA",fontSize:15},type:"flex",justify:"start"},"\u8bf7\u8f93\u5165\u4f60\u7684\u7528\u6237\u540d:"),c.a.createElement(Yn,{form:this.props.form,label:"",name:"usrname",required:!0,icon:"user",name1:"\u7528\u6237\u540d"}),c.a.createElement(T.a,{style:{width:"100%",marginLeft:"80px",color:"#AAAAAA",fontSize:15},type:"flex",justify:"start"},"\u8bf7\u8f93\u5165\u4f60\u7684\u5bc6\u7801:"),c.a.createElement(Yn,{form:this.props.form,label:"",name:"pwd",required:!0,icon:"lock",inputType:"password",name1:"\u5bc6\u7801"}),c.a.createElement(Gn,{form:this.props.form,label:"\u767b\u5f55",style:ea.button}),c.a.createElement(L.a,{style:ea.button2,onClick:this.props.onCancel},"\u53d6\u6d88"))),c.a.createElement(T.a,{type:"flex",justify:"center"},c.a.createElement(q.a,null,c.a.createElement(L.a,{onClick:this.props.switch,type:"link"},"\u70b9\u51fb\u8fd9\u91cc\u6ce8\u518c"),"|",c.a.createElement(L.a,{onClick:this.switchToPwd,type:"link"},"\u5fd8\u8bb0\u5bc6\u7801?"))))}},{key:"render",value:function(){return c.a.createElement(T.a,null,this.renderLogo(),this.renderContent())}}]),a}(I),ea={logo:{height:"64px",width:"192px"},cardContainer:{width:"500px",marginTop:"10px"},button:{width:"300px",height:"40px"},button2:{width:"300px",height:"40px",color:"white",backgroundColor:"#CCCCCC",marginBottom:"20px"},welcome:{fontSize:25,width:"100%",marginLeft:"80px",marginRight:"10px",marginBottom:"3px"},welcome2:{fontSize:17,width:"100%",color:"#AAAAAA",marginLeft:"80px",marginRight:"10px",marginBottom:"10px"}},ta=oe.a.create()(Object(g.b)(function(e){return{user:e.identityReducer.user}})(Object(y.f)(Zn))),na=n(117);function aa(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var ra=!1,ia=!1,oa=function(e){Object(p.a)(a,e);var t=aa(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),r.props.form.validateFields(function(e,t){if(""!==t.username)if(""!==t.password)if(""!==t.email)if(t.passwordAgain===t.password){var n=new FormData;n.append("username",t.username),n.append("password",t.password),n.append("email",t.email);r.post("/api/register",n,function(e){r.props.switch(),r.pushNotification("success","\u6ce8\u518c\u6210\u529f\uff01\u73b0\u5728\u53ef\u4ee5\u767b\u5f55\u5566\uff01")},function(e){r.pushNotification("warning",e.message)})}else r.pushNotification("warning","\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4!",r.props.dispatch);else r.pushNotification("warning","\u90ae\u7bb1\u662f\u7a7a\u7684!",r.props.dispatch);else r.pushNotification("warning","\u5bc6\u7801\u662f\u7a7a\u7684!",r.props.dispatch);else r.pushNotification("warning","\u7528\u6237\u540d\u662f\u7a7a\u7684\uff01",r.props.dispatch)})},r.renderLogo=function(){return c.a.createElement(T.a,{type:"flex",justify:"center"},c.a.createElement("img",{alt:"",style:ca.logo,src:n(141)}))},r.renderContent=function(){return c.a.createElement(T.a,{type:"flex",justify:"center",align:"middle",style:{borderRadius:"20px"}},c.a.createElement(q.a,null,c.a.createElement(T.a,{style:ca.cardContainer},c.a.createElement("div",{style:ca.welcome},"\u6b22\u8fce\u6765\u5230CodePass"),c.a.createElement("div",{style:ca.welcome2}),c.a.createElement(oe.a,{onSubmit:r.handleSubmit,type:"flex",justify:"center"},c.a.createElement(T.a,{style:{width:"100%"},type:"flex",justify:"center"},c.a.createElement(T.a,{style:{width:"100%",marginLeft:"80px",color:"#AAAAAA",fontSize:15},type:"flex",justify:"start"},"\u8bf7\u8f93\u5165\u4f60\u7684\u7528\u6237\u540d:"),c.a.createElement(Yn,{form:r.props.form,validator:r.validUsername.bind(Object(na.a)(r)),name:"username",required:!0,icon:"user",name1:"\u7528\u6237\u540d"}),c.a.createElement(T.a,{style:{width:"100%",marginLeft:"80px",color:"#AAAAAA",fontSize:15},type:"flex",justify:"start"},"\u8bf7\u8f93\u5165\u4f60\u7684\u90ae\u7bb1:"),c.a.createElement(Yn,{form:r.props.form,validator:r.validEmail.bind(Object(na.a)(r)),name:"email",required:!0,icon:"mail",name1:"\u90ae\u7bb1"}),c.a.createElement(T.a,{style:{width:"100%",marginLeft:"80px",color:"#AAAAAA",fontSize:15},type:"flex",justify:"start"},"\u8bf7\u8f93\u5165\u4f60\u7684\u5bc6\u7801:"),c.a.createElement(Yn,{form:r.props.form,style:{marginBottom:"10px"},name:"password",required:!0,icon:"lock",inputType:"password",name1:"\u5bc6\u7801"}),c.a.createElement(T.a,{style:{width:"100%",marginLeft:"80px",color:"#AAAAAA",fontSize:15},type:"flex",justify:"start"},"\u91cd\u590d\u4f60\u7684\u5bc6\u7801:"),c.a.createElement(Yn,{form:r.props.form,name:"passwordAgain",required:!0,icon:"lock",inputType:"password",name1:"\u5bc6\u7801\u8fdb\u884c\u4e8c\u6b21\u786e\u8ba4"})),c.a.createElement(T.a,{type:"flex",justify:"center"},c.a.createElement(q.a,null,c.a.createElement(Gn,{form:r.props.form,label:"\u6ce8\u518c",style:ca.button}),c.a.createElement(L.a,{style:ca.button2,onClick:r.props.onCancel},"\u53d6\u6d88")))),c.a.createElement(T.a,{type:"flex",justify:"center"},c.a.createElement(q.a,null,"\u5df2\u7ecf\u6709\u8d26\u53f7\u4e86?",c.a.createElement(L.a,{onClick:r.props.switch,type:"link"},"\u73b0\u5728\u767b\u5f55\u5427\uff01"))))))},r.state={statusName:"success",statusEmail:"success"},r}return Object(f.a)(a,[{key:"validUsername",value:function(e,t,n){var a=this;this.timeout(200).then(function(){if(!ra){ra=!0;var e=t,r=new FormData;r.append("name",e),a.timeout(100).then(function(){a.post("/api/existname",r,function(e){e.data?n("\u7528\u6237\u540d\u5df2\u5b58\u5728"):n()},null),ra=!1})}})}},{key:"validEmail",value:function(e,t,n){var a=this;this.timeout(200).then(function(){if(!ia){ia=!0;var e=t,r=new FormData;r.append("email",e),a.timeout(100).then(function(){a.post("/api/existemail",r,function(e){e.data?n("\u90ae\u7bb1\u5df2\u5b58\u5728"):n()},null),ia=!1})}})}},{key:"render",value:function(){return c.a.createElement(T.a,null,this.renderLogo(),this.renderContent())}}]),a}(I),ca={logo:{height:"64px",width:"192px"},cardContainer:{width:"500px",marginTop:"10px"},button:{width:"350px",height:"40px"},button2:{width:"350px",height:"40px",color:"white",backgroundColor:"#CCCCCC",marginBottom:"20px"},welcome:{fontSize:25,marginLeft:"80px",marginRight:"10px",marginBottom:"3px"},welcome2:{fontSize:17,color:"#AAAAAA",marginLeft:"80px",marginRight:"10px",marginBottom:"10px"}},sa=oe.a.create()(Object(g.b)(function(e){return{user:e.identityReducer.user,admin:e.identityReducer.admin}})(Object(y.f)(oa)));function la(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var ua=function(e){Object(p.a)(n,e);var t=la(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderContent=function(t,n){return t?c.a.createElement(ta,{onCancel:e.props.onCancel,switch:e.props.switch}):n?c.a.createElement(sa,{onCancel:e.props.onCancel,switch:e.props.switch}):void 0},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.signInVisible,n=e.signUpVisible,a=n||t;return c.a.createElement(Bn.a,{title:null,visible:a,closable:!1,footer:null,destroyOnClose:!0},this.renderContent(t,n))}}]),n}(I),fa=Object(g.b)(function(e){return{signInVisible:e.modalReducer.signInVisible,signUpVisible:e.modalReducer.signUpVisible,onCancel:e.modalReducer.onCancel}})(Object(y.f)(ua)),pa=n(717);function da(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var ma=function(e){Object(p.a)(n,e);var t=da(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e))._close=function(){a.setState({visible:!1})},a.state={visible:!1},a}return Object(f.a)(n,[{key:"render",value:function(){this.props.closing?(this.state.visible=!1,this.props.dispatch({type:"RESETDRAWER"})):this.props.loading&&!this.state.visible&&(this.state.visible=!0,this.props.dispatch({type:"RESETDRAWER"}));var e="60%";return document.body.clientWidth>1e3&&(e="45%"),c.a.createElement(pa.a,{title:this.props.title,width:e,placement:"right",closable:!0,onClose:this._close,visible:this.state.visible,destroyOnClose:!0},this.props.content)}}]),n}(I),ha=Object(g.b)(function(e){return{title:e.drawerReducer.title,content:e.drawerReducer.content,loading:e.drawerReducer.loading,closing:e.drawerReducer.closing}})(ma);function ya(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var ga=E.a.Content,Ea=function(e){Object(p.a)(n,e);var t=ya(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).createRoutes=function(e,t){return e.map(function(e,n){return c.a.createElement(Zt,{role:0,auth:e.auth,path:t+e.path,component:e.component,key:n})})},a.switch=function(){a.props.signInVisible?a.props.dispatch(O()):a.props.dispatch(k())},a.onCancel=function(){a.props.dispatch(w())},a.state={items:[{key:"/user/home",name:"\u9996\u9875",icon:"home"},{key:"/user/list",name:"\u53d1\u73b0",icon:"unordered-list"},{key:"/user/my",name:"\u6211\u7684\u95ee\u7b54",icon:"user"},{key:"/user/help",name:"\u5e2e\u52a9",icon:"question-circle"}]},a}return Object(f.a)(n,[{key:"componentWillMount",value:function(){this.props.dispatch(x(this.onCancel))}},{key:"render",value:function(){return c.a.createElement(E.a,null,c.a.createElement(Qt.a,{visibilityHeight:200,style:{zIndex:10}}),c.a.createElement(Ln,{items:this.state.items}),c.a.createElement(ga,{style:{backgroundColor:"white"}},c.a.createElement(y.c,{history:this.props.history},this.createRoutes(Ia[0].children,Ia[0].path))),c.a.createElement(fa,{switch:this.switch}),c.a.createElement(ha,null))}}]),n}(I),ba=Object(g.b)(function(e){return{user:e.identityReducer.user,signInVisible:e.modalReducer.signInVisible,signUpVisible:e.modalReducer.signUpVisible}})(Object(y.f)(Ea));function va(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var ja=E.a.Header,ka=function(e){Object(p.a)(a,e);var t=va(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderUser=function(){return n.props.admin?c.a.createElement(q.a,{span:12},c.a.createElement(T.a,{type:"flex",justify:"end",style:{marginRight:"40px"}},c.a.createElement(nn.a,{content:c.a.createElement(Rn,null)},c.a.createElement(L.a,{style:{height:64},type:"link"},c.a.createElement(In,null))))):c.a.createElement(q.a,{span:12},c.a.createElement(T.a,{type:"flex",justify:"end",align:"middle",style:{marginRight:"40px"}},c.a.createElement(L.a,{style:{color:"white",height:"64px"},type:"link",icon:"user",size:"large",onClick:n.signIn},"\u767b\u5f55"),c.a.createElement(L.a,{type:"primary",icon:"user-add",size:"large",onClick:n.signUp},"\u6ce8\u518c")))},n.signIn=function(){n.props.dispatch(k())},n.signUp=function(){n.props.dispatch(O())},n.state={isEnter:!1,index:0,bannerData:{},banner:null},n}return Object(f.a)(a,[{key:"render",value:function(){return c.a.createElement(ja,{style:{}},c.a.createElement(T.a,{type:"flex",align:"middle"},c.a.createElement(q.a,{xs:0,sm:0,lg:10},c.a.createElement(q.a,{sm:0,lg:10},c.a.createElement(T.a,{type:"flex",justify:"center"},c.a.createElement("img",{alt:"",style:Oa.logo,src:n(141)}))),c.a.createElement(q.a,{sm:12,lg:10})),c.a.createElement(q.a,{xs:24,sm:24,lg:14},c.a.createElement(T.a,{type:"flex",justify:"end",align:"middle"},c.a.createElement(q.a,{span:12},c.a.createElement(T.a,{type:"flex",justify:"end",style:{marginRight:"40px"}},c.a.createElement(tn.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],style:{lineHeight:"64px"}}))),this.renderUser()))))}}]),a}(I),Oa={logo:{height:"64px",width:"192px"}},wa=Object(g.b)(function(e){return{admin:e.identityReducer.admin,signInVisible:e.modalReducer.signInVisible,signUpVisible:e.modalReducer.signUpVisible}})(ka);function xa(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Ca=E.a.Content,Sa=E.a.Sider,Ra=function(e){Object(p.a)(n,e);var t=xa(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onCollapse=function(e){a.setState({collapsed:e})},a.createRoutes=function(e,t){return e.map(function(e,n){return c.a.createElement(Zt,{role:1,auth:e.auth,path:t+e.path,component:e.component,key:n})})},a.switch=function(){a.props.signInVisible?a.props.dispatch(O()):a.props.dispatch(k())},a.onCancel=function(){a.props.dispatch(w())},a.handleClick=function(e){a.setState({current:e.key}),a.props.history.push({pathname:a.state.items[Number.parseInt(e.key)].path})},a.state={items:[{key:"question",path:"/admin/question",name:"\u95ee\u9898\u7ba1\u7406",icon:"unordered-list"},{key:"answer",path:"/admin/answer",name:"\u56de\u7b54\u7ba1\u7406",icon:"unordered-list"},{key:"user",path:"/admin/user",name:"\u7528\u6237\u7ba1\u7406",icon:"unordered-list"},{key:"docker",path:"/admin/docker",name:"\u5bb9\u5668\u7ba1\u7406",icon:"unordered-list"}],collapsed:!1},a}return Object(f.a)(n,[{key:"componentWillMount",value:function(){var e=this.loadStorage("user"),t=this.loadStorage("isAdmin");e?"true"==t?this.props.dispatch(v(e)):this.props.dispatch(b(e)):this.props.dispatch(j()),this.props.dispatch(x(this.onCancel))}},{key:"render",value:function(){return c.a.createElement(E.a,{style:{minHeight:"100vh"}},c.a.createElement(Qt.a,{visibilityHeight:200,style:{zIndex:10}}),c.a.createElement(wa,null),c.a.createElement(E.a,null,c.a.createElement(Sa,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse},c.a.createElement(tn.a,{onClick:this.handleClick,defaultSelectedKeys:["0"],mode:"vertical",theme:"dark"},this.state.items.map(function(e,t){return c.a.createElement(tn.a.Item,{key:t},c.a.createElement(U.a,{type:e.icon}),e.name)}))),c.a.createElement(Ca,{style:{margin:"0 16px"}},this.createRoutes(Ia[1].children,Ia[1].path),c.a.createElement(fa,{switch:this.switch}),c.a.createElement(ha,null))))}}]),n}(I),Da=Object(g.b)(function(e){return{user:e.identityReducer.user,signInVisible:e.modalReducer.signInVisible,signUpVisible:e.modalReducer.signUpVisible}})(Object(y.f)(Ra)),Na=function(e){return{user:e.identityReducer.user,admin:e.identityReducer.admin}},Aa=function(e){return Object(g.b)(Na)(Object(y.f)(e))},Ia=[{path:"/user",icon:"user",component:ba,children:[{path:"/home",icon:"home",component:Aa(a.Home)},{path:"/my",icon:"my",component:Aa(a.My)},{path:"/list",icon:"list",component:Aa(a.List)},{path:"/help",icon:"help",component:Aa(a.Help)},{path:"/search",icon:"search",component:Aa(a.Search)},{path:"/detail",icon:"detail",component:Aa(a.Detail)},{path:"/person",icon:"person",component:Aa(a.Person)},{path:"/user",icon:"user",component:Aa(a.User)},{path:"/playground",icon:"playground",component:Aa(i)},{path:"/collect",icon:"collect",component:Aa(a.Collect)}]},{path:"/admin",icon:"admin",auth:!0,role:1,component:Da,children:[{path:"/home",icon:"home",component:Aa(r.Home)},{path:"/question",icon:"question",component:Aa(r.Question)},{path:"/answer",icon:"answer",component:Aa(r.Answer)},{path:"/user",icon:"user",component:Aa(r.User)},{path:"/docker",icon:"docker",component:Aa(r.Docker)}]}];function Ta(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var qa=E.a.Content,za=function(e){Object(p.a)(n,e);var t=Ta(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"componentWillMount",value:function(){this.refreshUser()}},{key:"getDefaultRoute",value:function(){return-1===this.props.history.location.pathname.indexOf("/user")&&-1===this.props.history.location.pathname.indexOf("/admin")?c.a.createElement(y.a,{to:"/user/home"}):null}},{key:"createRoutes",value:function(e){return e.map(function(e,t){return c.a.createElement(Zt,{role:e.role,auth:e.auth,path:e.path,component:e.component,key:t})})}},{key:"refreshUser",value:function(){var e=this.loadStorage("user"),t=this.loadStorage("isAdmin");e?"true"==t?this.props.dispatch(v(e)):this.props.dispatch(b(e)):this.props.dispatch(j())}},{key:"render",value:function(){return c.a.createElement(E.a,null,c.a.createElement(qa,{style:{backgroundColor:"white"}},c.a.createElement(y.c,{history:this.props.history},this.createRoutes(Ia),this.getDefaultRoute())))}}]),n}(I),Pa=Object(g.b)(function(e){return{user:e.identityReducer.user,admin:e.identityReducer.admin}})(Object(y.f)(za)),La=n(159),Ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGINASUSER":return localStorage.setItem("user",t.user),localStorage.removeItem("isAdmin"),localStorage.removeItem("isSales"),Object(R.a)(Object(R.a)({},e),{},{user:t.user,admin:null,sales:null});case"LOGINASADMIN":return localStorage.setItem("user",t.admin),localStorage.setItem("isAdmin",!0),localStorage.removeItem("isSales"),Object(R.a)(Object(R.a)({},e),{},{user:null,admin:t.admin,sales:null});case"LOGINASSALES":return localStorage.setItem("user",t.admin),localStorage.removeItem("isAdmin"),localStorage.setItem("isSales",!0),Object(R.a)(Object(R.a)({},e),{},{user:null,admin:null,sales:t.sales});case"LOGOUT":return localStorage.clear(),Object(R.a)(Object(R.a)({},e),{},{user:null,admin:null,sales:null});default:return e}},Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOWDRAWER":return Object(R.a)(Object(R.a)({},e),{},{title:t.title,content:t.content,loading:!0,closing:!1});case"RESETDRAWER":return Object(R.a)(Object(R.a)({},e),{},{loading:!1,closing:!1});case"CLOSEDRAWER":return Object(R.a)(Object(R.a)({},e),{},{loading:!1,closing:!0});default:return e}},Ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOWSIGNIN":return Object(R.a)(Object(R.a)({},e),{},{signInVisible:!0,signUpVisible:!1});case"SHOWSIGNUP":return Object(R.a)(Object(R.a)({},e),{},{signInVisible:!1,signUpVisible:!0});case"CANCELMODAL":return Object(R.a)(Object(R.a)({},e),{},{signInVisible:!1,signUpVisible:!1});case"SETONCANCEL":return Object(R.a)(Object(R.a)({},e),{},{onCancel:t.onCancel});case"SHOWSIGNINCANCEL":return Object(R.a)(Object(R.a)({},e),{},{onCancel:t.onCancel,signInVisible:!0,signUpVisible:!1});default:return e}},Wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETKEYWORD":return Object(R.a)(Object(R.a)({},e),{},{keyword:t.keyword});case"RESETKEYWORD":return Object(R.a)(Object(R.a)({},e),{},{keyword:null});default:return e}},Fa=Object(La.a)({identityReducer:Ba,drawerReducer:Va,modalReducer:Ua,keywordReducer:Wa}),Ma=Object(La.b)(Fa,{identityReducer:{user:null,admin:null,sales:null},drawerReducer:{loading:!1,closing:!1,title:"",content:null},modalReducer:{signInVisible:!1,signUpVisible:!1,onCancel:null},keywordReducer:{keyword:null}});function _a(e){return function(){var t,n=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(d.a)(this,t)}}var Ha=function(e){Object(p.a)(n,e);var t=_a(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return c.a.createElement(g.a,{store:Ma},c.a.createElement(h.a,null,c.a.createElement(y.b,{path:"/",component:Pa})))}}]),n}(o.Component);l.a.render(c.a.createElement(Ha,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[300,1,2]]]);
//# sourceMappingURL=main.445add09.chunk.js.map